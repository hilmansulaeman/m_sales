<div id="merchantActionTemplate" style="display: none;">
    <div class="merchant-action-popover" id="merchantActionMenu">
        <button class="merchant-action-item" data-action="downline">View downline</button>

        <button class="merchant-action-item" data-action="detail">View detail</button>
    </div>
</div>

<div id="exportActionTemplate" style="display: none;">
    <div class="merchant-action-popover" id="exportActionMenu">
        <button class="merchant-action-item" data-action="edc">EDC</button>
        <button class="merchant-action-item" data-action="qris">QRIS</button>
    </div>
</div>

<div id="exportActionTemplate" style="display: none;">
    <div class="merchant-action-popover" id="exportActionMenu">
        <button class="merchant-action-item" data-action="edc">EDC</button>
        <button class="merchant-action-item" data-action="qris">QRIS</button>
    </div>
</div>

<div id="sourceActionTemplate" style="display: none;">
    <div class="merchant-action-popover source-popover" id="sourceActionMenu">
        <button class="merchant-action-item" data-action="all">All product</button>
        <button class="merchant-action-item" data-action="fdm">FDM</button>
        <button class="merchant-action-item" data-action="merchant">Merchant</button>
    </div>
</div>


<!-- Merchant Details Modal -->
<div id="merchantDetailModal" class="merchant-modal-backdrop" aria-hidden="true">
    <div class="merchant-modal" role="dialog" aria-modal="true">

        <!-- Header -->
        <div class="merchant-modal-header">
            <h2 class="merchant-modal-title" id="merchantDetailTitle">Name Placeholder</h2>
            <button class="merchant-modal-close" aria-label="Tutup modal">‚úï</button>
        </div>

        <!-- Tabs -->
        <div class="merchant-modal-tabs">
            <button class="merchant-tab-btn active" data-tab="new">Data Input</button>
            <button class="merchant-tab-btn" data-tab="existing">App Processing</button>
        </div>

        <!-- Content: NEW -->
        <div class="merchant-tab-content active" id="tab-new">
            <!-- Card: EDC -->
            <div class="merchant-info-card">
                <div class="merchant-card-header">EDC</div>
                <div class="merchant-card-body">
                    <div class="merchant-info-row detail-modal-trigger" data-title="EDC - Credit"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Kredit</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger" data-title="EDC - Credit Point"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Poin Kredit</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger" data-title="EDC - Non Credit"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Non Kredit</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger" data-title="EDC - Non Credit Point"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Poin Non Kredit</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                </div>
            </div>

            <!-- Card: QRIS -->
            <div class="merchant-info-card">
                <div class="merchant-card-header">QRIS</div>
                <div class="merchant-card-body">
                    <div class="merchant-info-row detail-modal-trigger" data-title="QRIS - QRD"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">QRD</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger" data-title="QRIS - QSD"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">QSD</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger" data-title="QRIS - Point"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Poin</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                </div>
            </div>

            <!-- Card: EDC + QRIS -->
            <div class="merchant-info-card">
                <div class="merchant-card-header">EDC + QRIS</div>
                <div class="merchant-card-body">
                    <div class="merchant-info-row detail-modal-trigger" data-title="EDC + QRIS - Credit"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Kredit</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger" data-title="EDC + QRIS - Credit Point"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Poin Kredit</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger" data-title="EDC + QRIS - Non Credit"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Non Kredit</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger" data-title="EDC + QRIS - Non Credit Point"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Poin Non Kredit</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Content: EXISTING (Placeholder same structure or different?) -->
        <div class="merchant-tab-content" id="tab-existing">

            <!-- Card: EDC -->
            <div class="merchant-info-card">
                <div class="merchant-card-header">EDC</div>
                <div class="merchant-card-body">
                    <div class="merchant-info-row detail-modal-trigger" data-title="EDC - Additional Branch"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Additional Branch</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger" data-title="EDC - Additional Terminal"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Additional Terminal</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger" data-title="EDC - Change Facilities"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Change Facilities</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger" data-title="EDC - Re Agreement"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Re Agreement</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger" data-title="EDC - Point"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Point</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger" data-title="EDC - Rejected"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Rejected</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                </div>
            </div>

            <!-- Card: QRIS -->
            <div class="merchant-info-card">
                <div class="merchant-card-header">QRIS</div>
                <div class="merchant-card-body">
                    <div class="merchant-info-row detail-modal-trigger" data-title="QRIS - QRD"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">QRD</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger" data-title="QRIS - QSD"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">QSD</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger" data-title="QRIS - Point"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Point</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger" data-title="QRIS Existing - Rejected"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Rejected</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                </div>
            </div>

            <!-- Card: EDC + QRIS -->
            <div class="merchant-info-card">
                <div class="merchant-card-header">EDC + QRIS</div>
                <div class="merchant-card-body">
                    <div class="merchant-info-row detail-modal-trigger"
                        data-title="EDC + QRIS Existing - Additional Branch" style="cursor: pointer;">
                        <span class="merchant-info-label">Additional Branch</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger"
                        data-title="EDC + QRIS Existing - Additional Terminal" style="cursor: pointer;">
                        <span class="merchant-info-label">Additional Terminal</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger"
                        data-title="EDC + QRIS Existing - Change Facilities" style="cursor: pointer;">
                        <span class="merchant-info-label">Change Facilities</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger" data-title="EDC + QRIS Existing - Re Agreement"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Re Agreement</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger" data-title="EDC + QRIS Existing - Point"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Point</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row detail-modal-trigger" data-title="EDC + QRIS Existing - Rejected"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Rejected</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                </div>
            </div>

        </div>

    </div>
</div>

<!-- Merchant Detail Modal (Downline / Eye View) -->
<div id="merchantDetailModalDownline" class="merchant-modal-backdrop" aria-hidden="true" style="z-index: 10005;">
    <div class="merchant-modal" role="dialog" aria-modal="true">
        <!-- Header -->
        <div class="merchant-modal-header">
            <h2 class="merchant-modal-title" id="merchantDetailTitleDownline">Name Placeholder</h2>
            <button class="merchant-modal-close" aria-label="Tutup modal">‚úï</button>
        </div>

        <!-- Tabs -->
        <div class="merchant-modal-tabs">
            <button class="merchant-tab-btn active" data-tab="new-downline">Data Input</button>
            <button class="merchant-tab-btn" data-tab="existing-downline">App Processing</button>
        </div>

        <!-- Content: NEW -->
        <div class="merchant-tab-content active" id="tab-new-downline">
            <!-- Card: EDC -->
            <div class="merchant-info-card">
                <div class="merchant-card-header">EDC</div>
                <div class="merchant-card-body">
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="EDC - Total Input"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Total Input</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="EDC - Pending Submit"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Pending Submit</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                </div>
            </div>

            <!-- Card: QRIS -->
            <div class="merchant-info-card">
                <div class="merchant-card-header">QRIS</div>
                <div class="merchant-card-body">
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="QRIS - Total Input"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Total Input</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="QRIS - Pending Submit"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Pending Submit</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                </div>
            </div>

            <!-- Card: EDC + QRIS -->
            <div class="merchant-info-card">
                <div class="merchant-card-header">EDC + QRIS</div>
                <div class="merchant-card-body">
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="EDC + QRIS - Total Input"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Total Input</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">1</span>
                    </div>
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="EDC + QRIS - Pending Submit"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Pending Submit</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Content: EXISTING -->
        <div class="merchant-tab-content" id="tab-existing-downline">
            <!-- Card: EDC -->
            <div class="merchant-info-card">
                <div class="merchant-card-header">EDC</div>
                <div class="merchant-card-body">
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="EDC - Received"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Received</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="EDC - Inprocess"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Inprocess</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="EDC - RTS"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">RTS</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="EDC - Send"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Send</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="EDC - Pending"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Pending</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="EDC - Cancel"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Cancel</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                </div>
            </div>

            <!-- Card: QRIS -->
            <div class="merchant-info-card">
                <div class="merchant-card-header">QRIS</div>
                <div class="merchant-card-body">
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="QRIS - Received"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Received</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="QRIS - Inprocess"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Inprocess</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="QRIS - RTS"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">RTS</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="QRIS - Send"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Send</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="QRIS - Pending"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Pending</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="QRIS - Cancel"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Cancel</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                </div>
            </div>

            <!-- Card: EDC + QRIS -->
            <div class="merchant-info-card">
                <div class="merchant-card-header">EDC + QRIS</div>
                <div class="merchant-card-body">
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="EDC + QRIS - Received"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Received</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="EDC + QRIS - Inprocess"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Inprocess</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="EDC + QRIS - RTS"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">RTS</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="EDC + QRIS - Send"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Send</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="EDC + QRIS - Pending"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Pending</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                    <div class="merchant-info-row downline-sub-detail-trigger" data-title="EDC + QRIS - Cancel"
                        style="cursor: pointer;">
                        <span class="merchant-info-label">Cancel</span>
                        <span class="merchant-info-value" style="color: #1E62B3; text-decoration: underline;">0</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Downline Table Detail Modal (Copy of EDC Credit) -->
<div id="downlineTableModal" class="merchant-modal-backdrop" aria-hidden="true" style="z-index: 10010;">
    <div class="merchant-modal" role="dialog" aria-modal="true" style="width: 1200px; max-width: 95%;">
        <!-- Header -->
        <div class="merchant-modal-header">
            <h2 class="merchant-modal-title" id="downlineTableTitle">Detail Table</h2>
            <button class="merchant-modal-close" id="closeDownlineTableModal" aria-label="Tutup modal">‚úï</button>
        </div>

        <!-- Content -->
        <div style="display: flex; flex-direction: column; gap: 32px;">
            <!-- Search -->
            <div class="edc-search-container">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path
                        d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z"
                        stroke="#55586B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    <path d="M21 21L16.65 16.65" stroke="#55586B" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
                <input type="text" class="edc-search-input" placeholder="Search">
            </div>

            <!-- Table -->
            <div class="edc-table-container">
                <!-- Table Header -->
                <div class="edc-table-header-row">
                    <div class="edc-table-head-cell" style="width: 32px;">No</div>
                    <div class="edc-table-head-cell" style="flex: 1;">Merchant Name
                        <div style="width: 24px; height: 24px;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                            </svg>
                        </div>
                    </div>
                    <div class="edc-table-head-cell" style="flex: 1;">Owner Name
                        <div style="width: 24px; height: 24px;"><svg width="24" height="24" viewBox="0 0 24 24"
                                fill="none">
                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                            </svg></div>
                    </div>
                    <div class="edc-table-head-cell" style="width: 180px;">Sales Code
                        <div style="width: 30px; height: 24px;"><svg width="24" height="24" viewBox="0 0 24 24"
                                fill="none">
                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                            </svg></div>
                    </div>
                    <div class="edc-table-head-cell" style="flex: 1;">Sales Name
                        <div style="width: 24px; height: 24px;"><svg width="24" height="24" viewBox="0 0 24 24"
                                fill="none">
                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                            </svg></div>
                    </div>
                </div>

                <!-- Table Rows -->
                <div class="edc-table-row">
                    <div class="edc-table-cell" style="width: 32px;">1</div>
                    <div class="edc-table-cell" style="flex: 1; justify-content: flex-start;">AGMA FA*****</div>
                    <div class="edc-table-cell" style="flex: 1; justify-content: flex-start;">Agus Sri Mulyadi</div>
                    <div class="edc-table-cell" style="width: 180px; justify-content: flex-start;">K1403894</div>
                    <div class="edc-table-cell" style="flex: 1; justify-content: flex-start;">M Arif Nur Wicaksono</div>
                </div>
                <div class="edc-table-row">
                    <div class="edc-table-cell" style="width: 32px;">2</div>
                    <div class="edc-table-cell" style="flex: 1; justify-content: flex-start;">AGUNG PH*******</div>
                    <div class="edc-table-cell" style="flex: 1; justify-content: flex-start;">Agung Budi Styawan</div>
                    <div class="edc-table-cell" style="width: 180px; justify-content: flex-start;">K1304781</div>
                    <div class="edc-table-cell" style="flex: 1; justify-content: flex-start;">Chandra Kusumawati</div>
                </div>
                <div class="edc-table-row">
                    <div class="edc-table-cell" style="width: 32px;">3</div>
                    <div class="edc-table-cell" style="flex: 1; justify-content: flex-start;">AISY CO*********</div>
                    <div class="edc-table-cell" style="flex: 1; justify-content: flex-start;">Moch Jonny</div>
                    <div class="edc-table-cell" style="width: 180px; justify-content: flex-start;">K2300249</div>
                    <div class="edc-table-cell" style="flex: 1; justify-content: flex-start;">Pratama Kesuma Faisal
                    </div>
                </div>
            </div>

            <!-- Pagination -->
            <div class="edc-pagination-container">
                <div style="color: #55586B; font-size: 16px;">Showing 1 to 3 of 3</div>
                <div style="display: flex; align-items: center; gap: 4px;">
                    <!-- Left Arrow -->
                    <div
                        style="width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; cursor: pointer;">
                        <svg width="50" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M12 15L7 10L12 5" stroke="#A9A9A9" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </div>
                    <div class="edc-page-btn">1</div>
                    <!-- Right Arrow -->
                    <div
                        style="width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; cursor: pointer;">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M8 15L13 10L8 5" stroke="#A9A9A9" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 12px;">
                    <div style="color: #55586B; font-size: 16px;">Show</div>
                    <div
                        style="padding: 4px 8px; border-radius: 12px; border: 1px solid #D9D9D9; display: flex; align-items: center; gap: 2px;">
                        <div style="width: 24px; text-align: center; color: #29415C; font-size: 16px;">10</div>
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M15 8L10 13L5 8" stroke="#29415C" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- EDC Credit Modal -->
<div id="edcCreditModal" class="merchant-modal-backdrop" aria-hidden="true" style="z-index: 10002;">
    <div class="merchant-modal" role="dialog" aria-modal="true" style="width: 1200px; max-width: 95%;">
        <!-- Header -->
        <div class="merchant-modal-header">
            <h2 class="merchant-modal-title">EDC - Credit</h2>
            <button class="merchant-modal-close" id="closeEdcCreditModal" aria-label="Tutup modal">‚úï</button>
        </div>

        <!-- Content -->
        <div style="display: flex; flex-direction: column; gap: 32px;">
            <!-- Search -->
            <div class="edc-search-container">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path
                        d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z"
                        stroke="#55586B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    <path d="M21 21L16.65 16.65" stroke="#55586B" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
                <input type="text" class="edc-search-input" placeholder="Search">
            </div>

            <!-- Table -->
            <div class="edc-table-container">
                <!-- Table Header -->
                <div class="edc-table-header-row">
                    <div class="edc-table-head-cell" style="width: 32px;">No</div>
                    <div class="edc-table-head-cell" style="flex: 1;">Merchant Name
                        <div style="width: 24px; height: 24px;">
                            <!-- Sort Icon Placeholder -->
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                            </svg>
                        </div>
                    </div>
                    <div class="edc-table-head-cell" style="flex: 1;">Owner Name
                        <div style="width: 24px; height: 24px;"><svg width="24" height="24" viewBox="0 0 24 24"
                                fill="none">
                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                            </svg></div>
                    </div>
                    <div class="edc-table-head-cell" style="width: 180px;">Sales Code
                        <div style="width: 24px; height: 24px;"><svg width="24" height="24" viewBox="0 0 24 24"
                                fill="none">
                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                            </svg></div>
                    </div>
                    <div class="edc-table-head-cell" style="flex: 1;">Sales Name
                        <div style="width: 24px; height: 24px;"><svg width="24" height="24" viewBox="0 0 24 24"
                                fill="none">
                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                            </svg></div>
                    </div>
                </div>

                <!-- Table Rows -->
                <div class="edc-table-row">
                    <div class="edc-table-cell" style="width: 32px;">1</div>
                    <div class="edc-table-cell" style="flex: 1; justify-content: flex-start;">AGMA FA*****</div>
                    <div class="edc-table-cell" style="flex: 1; justify-content: flex-start;">Agus Sri Mulyadi</div>
                    <div class="edc-table-cell" style="width: 180px; justify-content: flex-start;">K1403894</div>
                    <div class="edc-table-cell" style="flex: 1; justify-content: flex-start;">M Arif Nur Wicaksono</div>
                </div>
                <div class="edc-table-row">
                    <div class="edc-table-cell" style="width: 32px;">2</div>
                    <div class="edc-table-cell" style="flex: 1; justify-content: flex-start;">AGUNG PH*******</div>
                    <div class="edc-table-cell" style="flex: 1; justify-content: flex-start;">Agung Budi Styawan</div>
                    <div class="edc-table-cell" style="width: 180px; justify-content: flex-start;">K1304781</div>
                    <div class="edc-table-cell" style="flex: 1; justify-content: flex-start;">Chandra Kusumawati</div>
                </div>
                <div class="edc-table-row">
                    <div class="edc-table-cell" style="width: 32px;">3</div>
                    <div class="edc-table-cell" style="flex: 1; justify-content: flex-start;">AISY CO*********</div>
                    <div class="edc-table-cell" style="flex: 1; justify-content: flex-start;">Moch Jonny</div>
                    <div class="edc-table-cell" style="width: 180px; justify-content: flex-start;">K2300249</div>
                    <div class="edc-table-cell" style="flex: 1; justify-content: flex-start;">Pratama Kesuma Faisal
                    </div>
                </div>
            </div>

            <!-- Pagination -->
            <div class="edc-pagination-container">
                <div style="color: #55586B; font-size: 16px;">Showing 1 to 3 of 3</div>
                <div style="display: flex; align-items: center; gap: 4px;">
                    <!-- Left Arrow -->
                    <div
                        style="width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; cursor: pointer;">
                        <svg width="50" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M12 15L7 10L12 5" stroke="#A9A9A9" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </div>
                    <div class="edc-page-btn">1</div>
                    <!-- Right Arrow -->
                    <div
                        style="width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; cursor: pointer;">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M8 15L13 10L8 5" stroke="#A9A9A9" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 12px;">
                    <div style="color: #55586B; font-size: 16px;">Show</div>
                    <div
                        style="padding: 4px 8px; border-radius: 12px; border: 1px solid #D9D9D9; display: flex; align-items: center; gap: 2px;">
                        <div style="width: 24px; text-align: center; color: #29415C; font-size: 16px;">10</div>
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M15 8L10 13L5 8" stroke="#29415C" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Downline Modal -->
<link rel="stylesheet" href="assets/css/pemol-modal.css">
<div class="asm-modal-backdrop" id="downlineModal" aria-hidden="true">
    <div class="asm-modal" role="dialog" aria-modal="true" aria-labelledby="downlineModalTitle" tabindex="-1">
        <!-- HEADER -->
        <div class="asm-modal-header">
            <h2 class="asm-modal-title" id="downlineModalTitle">Kiwamudin</h2>

            <button class="asm-modal-close" id="closeDownlineModal" type="button" aria-label="Tutup dialog"
                title="Tutup">
                <span aria-hidden="true">√ó</span>
            </button>
        </div>

        <!-- BODY -->
        <div class="asm-modal-body">
            <!-- FILTER BAR -->
            <div class="asm-filter-bar">
                <!-- Search -->
                <div class="asm-search">
                    <span class="asm-search-icon" aria-hidden="true">üîç</span>
                    <input type="search" class="asm-search-input" placeholder="Search" aria-label="Cari" />
                </div>

                <!-- Date range -->
                <button type="button" class="asm-date-btn">
                    <span class="asm-date-icon" aria-hidden="true">üìÖ</span>
                    <span class="asm-date-text">1 Jan, 2025 - 2 Feb, 2025</span>
                </button>
            </div>

            <!-- TABLE CARD -->
            <div class="asm-table-card">
                <table class="asm-table">
                    <thead>
                        <tr>
                            <th rowspan="2" class="text-center" style="width: 32px;">No</th>
                            <th rowspan="2" style="min-width: 200px;">ASM Name</th>
                            <th rowspan="2" class="text-center" style="width: 120px;">NIK Sales</th>
                            <th colspan="2" class="text-center">New</th>
                            <th colspan="2" class="text-center">Existing</th>
                            <th rowspan="2" class="text-center" style="width: 100px;">Rejected</th>
                            <th rowspan="2" class="text-center" style="width: 80px;">Action</th>
                        </tr>
                        <tr>
                            <th class="text-center" style="width: 100px;">Account</th>
                            <th class="text-center" style="width: 100px;">Point</th>
                            <th class="text-center" style="width: 100px;">Account</th>
                            <th class="text-center" style="width: 100px;">Point</th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr>
                            <td class="text-center">1</td>
                            <td>Albert Lambert</td>
                            <td class="text-center">K1101285</td>
                            <td class="text-center">10</td>
                            <td class="text-center">50</td>
                            <td class="text-center">5</td>
                            <td class="text-center">25</td>
                            <td class="text-center">2</td>
                            <td class="text-center">
                                <button class="asm-action-btn btn-view-asm-detail" type="button">üëÅ</button>
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">2</td>
                            <td>Angela Suriawarsita</td>
                            <td class="text-center">K1131701</td>
                            <td class="text-center">5</td>
                            <td class="text-center">25</td>
                            <td class="text-center">2</td>
                            <td class="text-center">10</td>
                            <td class="text-center">0</td>
                            <td class="text-center">
                                <button class="asm-action-btn btn-view-asm-detail" type="button">üëÅ</button>
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">3</td>
                            <td>Sifa Fauziah</td>
                            <td class="text-center">K1140414</td>
                            <td class="text-center">0</td>
                            <td class="text-center">0</td>
                            <td class="text-center">0</td>
                            <td class="text-center">0</td>
                            <td class="text-center">0</td>
                            <td class="text-center">
                                <button class="asm-action-btn btn-view-asm-detail" type="button">üëÅ</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- FOOTER / PAGINATION -->
            <div class="asm-modal-footer">
                <div class="asm-footer-info">Showing 1 to 3 of 3</div>

                <div class="asm-footer-pages">
                    <button type="button" class="asm-page-arrow">‚Äπ</button>
                    <button type="button" class="asm-page-current">1</button>
                    <button type="button" class="asm-page-arrow">‚Ä∫</button>
                </div>

                <div class="asm-footer-show">
                    <span>Show</span>
                    <button type="button" class="asm-show-dropdown">
                        <span>10</span>
                        <span class="asm-show-caret">‚ñæ</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- CC Reg Downline Modal (ASM Modal Style - Like View Downline) -->
<div class="asm-modal-backdrop" id="ccRegDownlineModal" aria-hidden="true" style="z-index: 10006;">
    <div class="asm-modal" role="dialog" aria-modal="true" aria-labelledby="ccRegTitle" tabindex="-1"
        style="max-width: 1616px;">
        <!-- HEADER -->
        <div class="asm-modal-header">
            <h2 class="asm-modal-title" id="ccRegTitle">Detail CC Reg</h2>
            <button class="asm-modal-close" id="closeCcRegDownlineModal" type="button" aria-label="Tutup dialog"
                title="Tutup">
                <span aria-hidden="true">√ó</span>
            </button>
        </div>

        <!-- BODY -->
        <div class="asm-modal-body">
            <!-- FILTER BAR -->
            <div class="asm-filter-bar">
                <!-- Search -->
                <div class="asm-search">
                    <span class="asm-search-icon" aria-hidden="true">üîç</span>
                    <input type="search" class="asm-search-input" placeholder="Search" aria-label="Cari" />
                </div>

                <!-- Date range -->
                <button type="button" class="asm-date-btn">
                    <span class="asm-date-icon" aria-hidden="true">üìÖ</span>
                    <span class="asm-date-text">1 Jan, 2025 - 2 Feb, 2025</span>
                </button>
            </div>

            <!-- TABLE CARD -->
            <div class="asm-table-card">
                <table class="asm-table">
                    <thead>
                        <tr>
                            <th rowspan="2" class="text-center" style="width: 32px;">No</th>
                            <th rowspan="2" style="width: 25%;">RSM Name</th>
                            <th rowspan="2" class="text-center">NIK Sales</th>
                            <th rowspan="2" class="text-center">Branch</th>
                            <th rowspan="2" class="text-center">Total DSR Active</th>
                            <th rowspan="2" class="text-center">Total Input</th>
                            <th rowspan="2" class="text-center">Send BCA</th>
                            <th rowspan="2" class="text-center">Send HC</th>

                            <th colspan="5" class="text-center rsm-group">Send</th>

                            <th rowspan="2" class="text-center">Action</th>
                        </tr>
                        <tr>
                            <!-- Sub columns for Send -->
                            <th class="text-center rsm-group-col">
                                Inprocess</th>
                            <th class="text-center rsm-group-col">
                                Duplicate</th>
                            <th class="text-center rsm-group-col">RTS
                            </th>
                            <th class="text-center rsm-group-col">
                                Cancel</th>
                            <th class="text-center rsm-group-col">
                                Reject</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="text-center">1</td>
                            <td>Ramaldo Oktama</td>
                            <td class="text-center">K1104148</td>
                            <td class="text-center">Bandung</td>
                            <td class="text-center">3</td>
                            <td class="text-center">1</td>
                            <td class="text-center">0</td>
                            <td class="text-center">0</td>

                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>

                            <td class="text-center">
                                <button class="asm-action-btn btn-view-cc-reg-detail" type="button">üëÅ</button>
                            </td>
                        </tr>

                        <tr>
                            <td class="text-center">2</td>
                            <td>Asep Syaefudin</td>
                            <td class="text-center">K1200215</td>
                            <td class="text-center">Jakarta</td>
                            <td class="text-center">1</td>
                            <td class="text-center">0</td>
                            <td class="text-center">0</td>
                            <td class="text-center">0</td>

                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>

                            <td class="text-center">
                                <button class="asm-action-btn btn-view-cc-reg-detail" type="button">üëÅ</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- FOOTER / PAGINATION -->
            <div class="asm-modal-footer">
                <div class="asm-footer-info">Showing 1 to 2 of 2</div>

                <div class="asm-footer-pages">
                    <button type="button" class="asm-page-arrow">‚Äπ</button>
                    <button type="button" class="asm-page-current">1</button>
                    <button type="button" class="asm-page-arrow">‚Ä∫</button>
                </div>

                <div class="asm-footer-show">
                    <span>Show</span>
                    <button type="button" class="asm-show-dropdown">
                        <span>10</span>
                        <span class="asm-show-caret">‚ñæ</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- CC Reg Detail Modal (Triggered by Eye Icon in CC Reg Downline Modal) -->
<div class="asm-modal-backdrop" id="ccRegDetailModal" aria-hidden="true" style="z-index: 10008;">
    <div class="asm-modal" role="dialog" aria-modal="true" tabindex="-1" style="max-width: 1616px;">
        <!-- HEADER -->
        <div class="asm-modal-header">
            <h2 class="asm-modal-title" id="ccRegDetailTitle">Shinta Kusuma</h2>
            <button class="asm-modal-close" id="closeCcRegDetailModal" type="button" aria-label="Close">
                <span aria-hidden="true">√ó</span>
            </button>
        </div>

        <!-- BODY -->
        <div class="asm-modal-body">
            <!-- Tabs (Segmented Toggle) -->
            <div style="padding: 24px 23px 0;">
                <div class="segmented" role="tablist" aria-label="CC Reg Status">
                    <div class="segmented-inner">
                        <button type="button" role="tab" aria-selected="true" class="seg-item active"
                            style="height: 32px; white-space: nowrap;" data-tab="send-bca">
                            <span class="label">Send BCA</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 32px; white-space: nowrap;" data-tab="send-hc">
                            <span class="label">Send HC</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 32px; white-space: nowrap;" data-tab="inprocess">
                            <span class="label">Inprocess</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 32px; white-space: nowrap;" data-tab="duplicate">
                            <span class="label">Duplicate</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 32px; white-space: nowrap;" data-tab="rts">
                            <span class="label">RTS</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 32px; white-space: nowrap;" data-tab="cancel">
                            <span class="label">Cancel</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 32px; white-space: nowrap;" data-tab="reject">
                            <span class="label">Reject</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Filter Bar (Search only, Full Width) -->
            <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                <div class="asm-search" style="width: 100%;">
                    <span class="asm-search-icon">üîç</span>
                    <input type="search" class="asm-search-input" placeholder="Search">
                </div>
            </div>

            <!-- Table -->
            <div class="asm-table-card">
                <table class="asm-table">
                    <thead>
                        <tr>
                            <th class="text-center" style="width: 32px;">No</th>
                            <th>
                                <div style="display: flex; align-items: center; gap: 4px;">
                                    Costume Name
                                    <div style="width: 24px; height: 24px;"><svg width="24" height="24"
                                            viewBox="0 0 24 24" fill="none">
                                            <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                        </svg></div>
                                </div>
                            </th>
                            <th>
                                <div style="display: flex; align-items: center; gap: 4px;">
                                    Status
                                    <div style="width: 24px; height: 24px;"><svg width="24" height="24"
                                            viewBox="0 0 24 24" fill="none">
                                            <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                        </svg></div>
                                </div>
                            </th>
                            <th>
                                <div style="display: flex; align-items: center; gap: 4px;">
                                    DSR
                                    <div style="width: 24px; height: 24px;"><svg width="24" height="24"
                                            viewBox="0 0 24 24" fill="none">
                                            <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                        </svg></div>
                                </div>
                            </th>
                            <th>
                                <div style="display: flex; align-items: center; gap: 4px;">
                                    SPV
                                    <div style="width: 24px; height: 24px;"><svg width="24" height="24"
                                            viewBox="0 0 24 24" fill="none">
                                            <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                        </svg></div>
                                </div>
                            </th>
                            <th>
                                <div style="display: flex; align-items: center; gap: 4px;">
                                    Source Code
                                    <div style="width: 24px; height: 24px;"><svg width="24" height="24"
                                            viewBox="0 0 24 24" fill="none">
                                            <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                        </svg></div>
                                </div>
                            </th>
                            <th>
                                <div style="display: flex; align-items: center; gap: 4px;">
                                    Exhibition Name
                                    <div style="width: 24px; height: 24px;"><svg width="24" height="24"
                                            viewBox="0 0 24 24" fill="none">
                                            <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                        </svg></div>
                                </div>
                            </th>
                            <th>
                                <div style="display: flex; align-items: center; gap: 4px;">
                                    Input Date
                                    <div style="width: 24px; height: 24px;"><svg width="24" height="24"
                                            viewBox="0 0 24 24" fill="none">
                                            <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                        </svg></div>
                                </div>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="text-center">1</td>
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Footer -->
            <div class="asm-modal-footer">
                <div class="asm-footer-info">Showing 1 to 1 of 1</div>

                <div class="asm-footer-pages">
                    <button type="button" class="asm-page-arrow">‚Äπ</button>
                    <button type="button" class="asm-page-current">1</button>
                    <button type="button" class="asm-page-arrow">‚Ä∫</button>
                </div>

                <div class="asm-footer-show">
                    <span>Show</span>
                    <button type="button" class="asm-show-dropdown">
                        <span>10</span>
                        <span class="asm-show-caret">‚ñæ</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ========================================= -->
<!-- CC MS Downline Modal (Clone of CC Reg but NO Send HC) -->
<!-- ========================================= -->

<div class="asm-modal-backdrop" id="ccMsDownlineModal" aria-hidden="true" style="z-index: 10006;">
    <div class="asm-modal" role="dialog" aria-modal="true" aria-labelledby="ccMsTitle" tabindex="-1"
        style="max-width: 1616px;">
        <!-- HEADER -->
        <div class="asm-modal-header">
            <h2 class="asm-modal-title" id="ccMsTitle">Detail CC MS</h2>
            <button class="asm-modal-close" id="closeCcMsDownlineModal" type="button" aria-label="Tutup dialog"
                title="Tutup">
                <span aria-hidden="true">√ó</span>
            </button>
        </div>

        <!-- BODY -->
        <div class="asm-modal-body">
            <!-- FILTER BAR -->
            <div class="asm-filter-bar">
                <!-- Search -->
                <div class="asm-search">
                    <span class="asm-search-icon" aria-hidden="true">üîç</span>
                    <input type="search" class="asm-search-input" placeholder="Search" aria-label="Cari" />
                </div>

                <!-- Date range -->
                <button type="button" class="asm-date-btn">
                    <span class="asm-date-icon" aria-hidden="true">üìÖ</span>
                    <span class="asm-date-text">1 Jan, 2025 - 2 Feb, 2025</span>
                </button>
            </div>

            <!-- TABLE CARD -->
            <div class="asm-table-card">
                <table class="asm-table">
                    <thead>
                        <tr>
                            <th rowspan="2" class="text-center" style="width: 32px;">No</th>
                            <th rowspan="2" style="width: 25%;">RSM Name</th>
                            <th rowspan="2" class="text-center">NIK Sales</th>
                            <th rowspan="2" class="text-center">Branch</th>
                            <th rowspan="2" class="text-center">Total DSR Active</th>
                            <th rowspan="2" class="text-center">Total Input</th>
                            <th rowspan="2" class="text-center">Send BCA</th>
                            <!-- Send HC Removed -->

                            <th colspan="5" class="text-center rsm-group">Send</th>

                            <th rowspan="2" class="text-center">Action</th>
                        </tr>
                        <tr>
                            <!-- Sub columns for Send -->
                            <th class="text-center rsm-group-col">
                                Inprocess</th>
                            <th class="text-center rsm-group-col">
                                Duplicate</th>
                            <th class="text-center rsm-group-col">RTS
                            </th>
                            <th class="text-center rsm-group-col">
                                Cancel</th>
                            <th class="text-center rsm-group-col">
                                Reject</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="text-center">1</td>
                            <td>Ramaldo Oktama</td>
                            <td class="text-center">K1104148</td>
                            <td class="text-center">Bandung</td>
                            <td class="text-center">3</td>
                            <td class="text-center">1</td>
                            <td class="text-center">0</td>
                            <!-- Send HC Removed -->

                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>

                            <td class="text-center">
                                <button class="asm-action-btn btn-view-cc-ms-detail" type="button">üëÅ</button>
                            </td>
                        </tr>

                        <tr>
                            <td class="text-center">2</td>
                            <td>Asep Syaefudin</td>
                            <td class="text-center">K1200215</td>
                            <td class="text-center">Jakarta</td>
                            <td class="text-center">1</td>
                            <td class="text-center">0</td>
                            <td class="text-center">0</td>
                            <!-- Send HC Removed -->

                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>

                            <td class="text-center">
                                <button class="asm-action-btn btn-view-cc-ms-detail" type="button">üëÅ</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- FOOTER / PAGINATION -->
            <div class="asm-modal-footer">
                <div class="asm-footer-info">Showing 1 to 2 of 2</div>

                <div class="asm-footer-pages">
                    <button type="button" class="asm-page-arrow">‚Äπ</button>
                    <button type="button" class="asm-page-current">1</button>
                    <button type="button" class="asm-page-arrow">‚Ä∫</button>
                </div>

                <div class="asm-footer-show">
                    <span>Show</span>
                    <button type="button" class="asm-show-dropdown">
                        <span>10</span>
                        <span class="asm-show-caret">‚ñæ</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ========================================= -->
<!-- CC MS Detail Modal (Clone of CC Reg Detail but NO Send HC) -->
<!-- ========================================= -->
<div class="asm-modal-backdrop" id="ccMsDetailModal" aria-hidden="true" style="z-index: 10008;">
    <div class="asm-modal" role="dialog" aria-modal="true" tabindex="-1" style="max-width: 1616px;">
        <!-- HEADER -->
        <div class="asm-modal-header">
            <h2 class="asm-modal-title" id="ccMsDetailTitle">Detail CC MS</h2>
            <button class="asm-modal-close" id="closeCcMsDetailModal" type="button" aria-label="Close">
                <span aria-hidden="true">√ó</span>
            </button>
        </div>

        <!-- BODY -->
        <div class="asm-modal-body">
            <!-- Tabs (Segmented Toggle) -->
            <div style="padding: 24px 32px 0;">
                <div class="segmented" role="tablist" aria-label="CC MS Status">
                    <div class="segmented-inner">
                        <button type="button" role="tab" aria-selected="true" class="seg-item active"
                            style="height: 42px; white-space: nowrap;" data-tab="send-bca">
                            <span class="label">Send BCA</span>
                        </button>
                        <!-- Send HC Removed -->
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="inprocess">
                            <span class="label">Inprocess</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="duplicate">
                            <span class="label">Duplicate</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="rts">
                            <span class="label">RTS</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="cancel">
                            <span class="label">Cancel</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="reject">
                            <span class="label">Reject</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- TAB PANES (Simplified logic for now, using IDs prefixed with ms-) -->

            <!-- 1. Send BCA -->
            <div id="ms-tab-send-bca" class="cc-reg-tab-pane active">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <div class="asm-footer-info">Showing 1 to 1 of 1</div>

                    <div class="asm-footer-pages">
                        <button type="button" class="asm-page-arrow">‚Äπ</button>
                        <button type="button" class="asm-page-current">1</button>
                        <button type="button" class="asm-page-arrow">‚Ä∫</button>
                    </div>

                    <div class="asm-footer-show">
                        <span>Show</span>
                        <button type="button" class="asm-show-dropdown">
                            <span>10</span>
                            <span class="asm-show-caret">‚ñæ</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Send HC Removed -->

            <!-- 2. Inprocess -->
            <div id="ms-tab-inprocess" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <div class="asm-footer-info">Showing 1 to 1 of 1</div>

                    <div class="asm-footer-pages">
                        <button type="button" class="asm-page-arrow">‚Äπ</button>
                        <button type="button" class="asm-page-current">1</button>
                        <button type="button" class="asm-page-arrow">‚Ä∫</button>
                    </div>

                    <div class="asm-footer-show">
                        <span>Show</span>
                        <button type="button" class="asm-show-dropdown">
                            <span>10</span>
                            <span class="asm-show-caret">‚ñæ</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- 3. Duplicate -->
            <div id="ms-tab-duplicate" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <div class="asm-footer-info">Showing 1 to 1 of 1</div>

                    <div class="asm-footer-pages">
                        <button type="button" class="asm-page-arrow">‚Äπ</button>
                        <button type="button" class="asm-page-current">1</button>
                        <button type="button" class="asm-page-arrow">‚Ä∫</button>
                    </div>

                    <div class="asm-footer-show">
                        <span>Show</span>
                        <button type="button" class="asm-show-dropdown">
                            <span>10</span>
                            <span class="asm-show-caret">‚ñæ</span>
                        </button>
                    </div>
                </div>
            </div>
            <!-- 4. RTS -->
            <div id="ms-tab-rts" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <div class="asm-footer-info">Showing 1 to 1 of 1</div>

                    <div class="asm-footer-pages">
                        <button type="button" class="asm-page-arrow">‚Äπ</button>
                        <button type="button" class="asm-page-current">1</button>
                        <button type="button" class="asm-page-arrow">‚Ä∫</button>
                    </div>

                    <div class="asm-footer-show">
                        <span>Show</span>
                        <button type="button" class="asm-show-dropdown">
                            <span>10</span>
                            <span class="asm-show-caret">‚ñæ</span>
                        </button>
                    </div>
                </div>
            </div>
            <!-- 5. Cancel -->
            <div id="ms-tab-cancel" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <div class="asm-footer-info">Showing 1 to 1 of 1</div>

                    <div class="asm-footer-pages">
                        <button type="button" class="asm-page-arrow">‚Äπ</button>
                        <button type="button" class="asm-page-current">1</button>
                        <button type="button" class="asm-page-arrow">‚Ä∫</button>
                    </div>

                    <div class="asm-footer-show">
                        <span>Show</span>
                        <button type="button" class="asm-show-dropdown">
                            <span>10</span>
                            <span class="asm-show-caret">‚ñæ</span>
                        </button>
                    </div>
                </div>
            </div>
            <!-- 6. Reject -->
            <div id="ms-tab-reject" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <div class="asm-footer-info">Showing 1 to 1 of 1</div>

                    <div class="asm-footer-pages">
                        <button type="button" class="asm-page-arrow">‚Äπ</button>
                        <button type="button" class="asm-page-current">1</button>
                        <button type="button" class="asm-page-arrow">‚Ä∫</button>
                    </div>

                    <div class="asm-footer-show">
                        <span>Show</span>
                        <button type="button" class="asm-show-dropdown">
                            <span>10</span>
                            <span class="asm-show-caret">‚ñæ</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- ========================================= -->
<!-- Corporate Downline Modal (Clone of CC MS) -->
<!-- ========================================= -->

<div class="asm-modal-backdrop" id="corporateDownlineModal" aria-hidden="true" style="z-index: 10006;">
    <div class="asm-modal" role="dialog" aria-modal="true" aria-labelledby="corporateTitle" tabindex="-1"
        style="max-width: 1616px;">
        <!-- HEADER -->
        <div class="asm-modal-header">
            <h2 class="asm-modal-title" id="corporateTitle">Detail Corporate</h2>
            <button class="asm-modal-close" id="closeCorporateDownlineModal" type="button" aria-label="Tutup dialog"
                title="Tutup">
                <span aria-hidden="true">√ó</span>
            </button>
        </div>

        <!-- BODY -->
        <div class="asm-modal-body">
            <!-- FILTER BAR -->
            <div class="asm-filter-bar">
                <!-- Search -->
                <div class="asm-search">
                    <span class="asm-search-icon" aria-hidden="true">üîç</span>
                    <input type="search" class="asm-search-input" placeholder="Search" aria-label="Cari" />
                </div>

                <!-- Date range -->
                <button type="button" class="asm-date-btn">
                    <span class="asm-date-icon" aria-hidden="true">üìÖ</span>
                    <span class="asm-date-text">1 Jan, 2025 - 2 Feb, 2025</span>
                </button>
            </div>

            <!-- TABLE CARD -->
            <div class="asm-table-card">
                <table class="asm-table">
                    <thead>
                        <tr>
                            <th rowspan="2" class="text-center" style="width: 32px;">No</th>
                            <th rowspan="2" style="width: 25%;">RSM Name</th>
                            <th rowspan="2" class="text-center">NIK Sales</th>
                            <th rowspan="2" class="text-center">Branch</th>
                            <th rowspan="2" class="text-center">Total DSR Active</th>
                            <th rowspan="2" class="text-center">Total Input</th>
                            <th rowspan="2" class="text-center">Send BCA</th>
                            <!-- Send HC Removed -->

                            <th colspan="5" class="text-center rsm-group">Send</th>

                            <th rowspan="2" class="text-center">Action</th>
                        </tr>
                        <tr>
                            <!-- Sub columns for Send -->
                            <th class="text-center rsm-group-col">
                                Inprocess</th>
                            <th class="text-center rsm-group-col">
                                Duplicate</th>
                            <th class="text-center rsm-group-col">RTS
                            </th>
                            <th class="text-center rsm-group-col">
                                Cancel</th>
                            <th class="text-center rsm-group-col">
                                Reject</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="text-center">1</td>
                            <td>Ramaldo Oktama</td>
                            <td class="text-center">K1104148</td>
                            <td class="text-center">Bandung</td>
                            <td class="text-center">3</td>
                            <td class="text-center">1</td>
                            <td class="text-center">0</td>
                            <!-- Send HC Removed -->

                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>

                            <td class="text-center">
                                <button class="asm-action-btn btn-view-corporate-detail" type="button">üëÅ</button>
                            </td>
                        </tr>

                        <tr>
                            <td class="text-center">2</td>
                            <td>Asep Syaefudin</td>
                            <td class="text-center">K1200215</td>
                            <td class="text-center">Jakarta</td>
                            <td class="text-center">1</td>
                            <td class="text-center">0</td>
                            <td class="text-center">0</td>
                            <!-- Send HC Removed -->

                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>

                            <td class="text-center">
                                <button class="asm-action-btn btn-view-corporate-detail" type="button">üëÅ</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- FOOTER / PAGINATION -->
            <div class="asm-modal-footer">
                <div class="asm-footer-info">Showing 1 to 2 of 2</div>

                <div class="asm-footer-pages">
                    <button type="button" class="asm-page-arrow">‚Äπ</button>
                    <button type="button" class="asm-page-current">1</button>
                    <button type="button" class="asm-page-arrow">‚Ä∫</button>
                </div>

                <div class="asm-footer-show">
                    <span>Show</span>
                    <button type="button" class="asm-show-dropdown">
                        <span>10</span>
                        <span class="asm-show-caret">‚ñæ</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ========================================= -->
<!-- Corporate Detail Modal (Clone of CC MS Detail) -->
<!-- ========================================= -->
<div class="asm-modal-backdrop" id="corporateDetailModal" aria-hidden="true" style="z-index: 10008;">
    <div class="asm-modal" role="dialog" aria-modal="true" tabindex="-1" style="max-width: 1616px;">
        <!-- HEADER -->
        <div class="asm-modal-header">
            <h2 class="asm-modal-title" id="corporateDetailTitle">Detail Corporate</h2>
            <button class="asm-modal-close" id="closeCorporateDetailModal" type="button" aria-label="Close">
                <span aria-hidden="true">√ó</span>
            </button>
        </div>

        <!-- BODY -->
        <div class="asm-modal-body">
            <!-- Tabs (Segmented Toggle) -->
            <div style="padding: 24px 32px 0;">
                <div class="segmented" role="tablist" aria-label="Corporate Status">
                    <div class="segmented-inner">
                        <button type="button" role="tab" aria-selected="true" class="seg-item active"
                            style="height: 42px; white-space: nowrap;" data-tab="send-bca">
                            <span class="label">Send BCA</span>
                        </button>
                        <!-- Send HC Removed -->
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="inprocess">
                            <span class="label">Inprocess</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="duplicate">
                            <span class="label">Duplicate</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="rts">
                            <span class="label">RTS</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="cancel">
                            <span class="label">Cancel</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="reject">
                            <span class="label">Reject</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- TAB PANES (corp-tab-*) -->

            <!-- 1. Send BCA -->
            <div id="corp-tab-send-bca" class="cc-reg-tab-pane active">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <button type="button" class="asm-btn asm-btn-secondary"
                        onclick="closeCorporateDetailModalFn()">Close</button>
                    <button type="button" class="asm-btn asm-btn-primary">Save Changes</button>
                </div>
            </div>

            <!-- 2. Inprocess -->
            <div id="corp-tab-inprocess" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <button type="button" class="asm-btn asm-btn-secondary"
                        onclick="closeCorporateDetailModalFn()">Close</button>
                    <button type="button" class="asm-btn asm-btn-primary">Save Changes</button>
                </div>
            </div>

            <!-- 3. Duplicate -->
            <div id="corp-tab-duplicate" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <button type="button" class="asm-btn asm-btn-secondary"
                        onclick="closeCorporateDetailModalFn()">Close</button>
                    <button type="button" class="asm-btn asm-btn-primary">Save Changes</button>
                </div>
            </div>

            <!-- 4. RTS -->
            <div id="corp-tab-rts" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <button type="button" class="asm-btn asm-btn-secondary"
                        onclick="closeCorporateDetailModalFn()">Close</button>
                    <button type="button" class="asm-btn asm-btn-primary">Save Changes</button>
                </div>
            </div>

            <!-- 5. Cancel -->
            <div id="corp-tab-cancel" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <button type="button" class="asm-btn asm-btn-secondary"
                        onclick="closeCorporateDetailModalFn()">Close</button>
                    <button type="button" class="asm-btn asm-btn-primary">Save Changes</button>
                </div>
            </div>

            <!-- 6. Reject -->
            <div id="corp-tab-reject" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <button type="button" class="asm-btn asm-btn-secondary"
                        onclick="closeCorporateDetailModalFn()">Close</button>
                    <button type="button" class="asm-btn asm-btn-primary">Save Changes</button>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- ========================================= -->
<!-- Smart Cash Downline Modal (Clone of Corporate) -->
<!-- ========================================= -->

<div class="asm-modal-backdrop" id="smartCashDownlineModal" aria-hidden="true" style="z-index: 10006;">
    <div class="asm-modal" role="dialog" aria-modal="true" aria-labelledby="smartCashTitle" tabindex="-1"
        style="max-width: 1616px;">
        <!-- HEADER -->
        <div class="asm-modal-header">
            <h2 class="asm-modal-title" id="smartCashTitle">Detail Smart Cash</h2>
            <button class="asm-modal-close" id="closeSmartCashDownlineModal" type="button" aria-label="Tutup dialog"
                title="Tutup">
                <span aria-hidden="true">√ó</span>
            </button>
        </div>

        <!-- BODY -->
        <div class="asm-modal-body">
            <!-- FILTER BAR -->
            <div class="asm-filter-bar">
                <!-- Search -->
                <div class="asm-search">
                    <span class="asm-search-icon" aria-hidden="true">üîç</span>
                    <input type="search" class="asm-search-input" placeholder="Search" aria-label="Cari" />
                </div>

                <!-- Date range -->
                <button type="button" class="asm-date-btn">
                    <span class="asm-date-icon" aria-hidden="true">üìÖ</span>
                    <span class="asm-date-text">1 Jan, 2025 - 2 Feb, 2025</span>
                </button>
            </div>

            <!-- TABLE CARD -->
            <div class="asm-table-card">
                <table class="asm-table">
                    <thead>
                        <tr>
                            <th rowspan="2" class="text-center" style="width: 32px;">No</th>
                            <th rowspan="2" style="width: 25%;">RSM Name</th>
                            <th rowspan="2" class="text-center">NIK Sales</th>
                            <th rowspan="2" class="text-center">Branch</th>
                            <th rowspan="2" class="text-center">Total DSR Active</th>
                            <th rowspan="2" class="text-center">Total Input</th>
                            <th rowspan="2" class="text-center">Send BCA</th>
                            <!-- Send HC Removed -->

                            <th colspan="5" class="text-center rsm-group">Send</th>

                            <th rowspan="2" class="text-center">Action</th>
                        </tr>
                        <tr>
                            <!-- Sub columns for Send -->
                            <th class="text-center rsm-group-col">
                                Inprocess</th>
                            <th class="text-center rsm-group-col">
                                Duplicate</th>
                            <th class="text-center rsm-group-col">RTS
                            </th>
                            <th class="text-center rsm-group-col">
                                Cancel</th>
                            <th class="text-center rsm-group-col">
                                Reject</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="text-center">1</td>
                            <td>Ramaldo Oktama</td>
                            <td class="text-center">K1104148</td>
                            <td class="text-center">Bandung</td>
                            <td class="text-center">3</td>
                            <td class="text-center">1</td>
                            <td class="text-center">0</td>
                            <!-- Send HC Removed -->

                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>

                            <td class="text-center">
                                <button class="asm-action-btn btn-view-smart-cash-detail" type="button">üëÅ</button>
                            </td>
                        </tr>

                        <tr>
                            <td class="text-center">2</td>
                            <td>Asep Syaefudin</td>
                            <td class="text-center">K1200215</td>
                            <td class="text-center">Jakarta</td>
                            <td class="text-center">1</td>
                            <td class="text-center">0</td>
                            <td class="text-center">0</td>
                            <!-- Send HC Removed -->

                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>

                            <td class="text-center">
                                <button class="asm-action-btn btn-view-smart-cash-detail" type="button">üëÅ</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- FOOTER / PAGINATION -->
            <div class="asm-modal-footer">
                <div class="asm-footer-info">Showing 1 to 2 of 2</div>

                <div class="asm-footer-pages">
                    <button type="button" class="asm-page-arrow">‚Äπ</button>
                    <button type="button" class="asm-page-current">1</button>
                    <button type="button" class="asm-page-arrow">‚Ä∫</button>
                </div>

                <div class="asm-footer-show">
                    <span>Show</span>
                    <button type="button" class="asm-show-dropdown">
                        <span>10</span>
                        <span class="asm-show-caret">‚ñæ</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ========================================= -->
<!-- Smart Cash Detail Modal (Clone of Corporate Detail) -->
<!-- ========================================= -->
<div class="asm-modal-backdrop" id="smartCashDetailModal" aria-hidden="true" style="z-index: 10008;">
    <div class="asm-modal" role="dialog" aria-modal="true" tabindex="-1" style="max-width: 1616px;">
        <!-- HEADER -->
        <div class="asm-modal-header">
            <h2 class="asm-modal-title" id="smartCashDetailTitle">Detail Smart Cash</h2>
            <button class="asm-modal-close" id="closeSmartCashDetailModal" type="button" aria-label="Close">
                <span aria-hidden="true">√ó</span>
            </button>
        </div>

        <!-- BODY -->
        <div class="asm-modal-body">
            <!-- Tabs (Segmented Toggle) -->
            <div style="padding: 24px 32px 0;">
                <div class="segmented" role="tablist" aria-label="Smart Cash Status">
                    <div class="segmented-inner">
                        <button type="button" role="tab" aria-selected="true" class="seg-item active"
                            style="height: 42px; white-space: nowrap;" data-tab="send-bca">
                            <span class="label">Send BCA</span>
                        </button>
                        <!-- Send HC Removed -->
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="inprocess">
                            <span class="label">Inprocess</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="duplicate">
                            <span class="label">Duplicate</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="rts">
                            <span class="label">RTS</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="cancel">
                            <span class="label">Cancel</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="reject">
                            <span class="label">Reject</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- TAB PANES (sc-tab-*) -->

            <!-- 1. Send BCA -->
            <div id="sc-tab-send-bca" class="cc-reg-tab-pane active">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <button type="button" class="asm-btn asm-btn-secondary"
                        onclick="closeSmartCashDetailModalFn()">Close</button>
                    <button type="button" class="asm-btn asm-btn-primary">Save Changes</button>
                </div>
            </div>

            <!-- 2. Inprocess -->
            <div id="sc-tab-inprocess" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <button type="button" class="asm-btn asm-btn-secondary"
                        onclick="closeSmartCashDetailModalFn()">Close</button>
                    <button type="button" class="asm-btn asm-btn-primary">Save Changes</button>
                </div>
            </div>

            <!-- 3. Duplicate -->
            <div id="sc-tab-duplicate" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <button type="button" class="asm-btn asm-btn-secondary"
                        onclick="closeSmartCashDetailModalFn()">Close</button>
                    <button type="button" class="asm-btn asm-btn-primary">Save Changes</button>
                </div>
            </div>

            <!-- 4. RTS -->
            <div id="sc-tab-rts" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <button type="button" class="asm-btn asm-btn-secondary"
                        onclick="closeSmartCashDetailModalFn()">Close</button>
                    <button type="button" class="asm-btn asm-btn-primary">Save Changes</button>
                </div>
            </div>

            <!-- 5. Cancel -->
            <div id="sc-tab-cancel" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <button type="button" class="asm-btn asm-btn-secondary"
                        onclick="closeSmartCashDetailModalFn()">Close</button>
                    <button type="button" class="asm-btn asm-btn-primary">Save Changes</button>
                </div>
            </div>

            <!-- 6. Reject -->
            <div id="sc-tab-reject" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <button type="button" class="asm-btn asm-btn-secondary"
                        onclick="closeSmartCashDetailModalFn()">Close</button>
                    <button type="button" class="asm-btn asm-btn-primary">Save Changes</button>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- ========================================= -->
<!-- Personal Loan Downline Modal (Clone of Smart Cash) -->
<!-- ========================================= -->

<div class="asm-modal-backdrop" id="personalLoanDownlineModal" aria-hidden="true" style="z-index: 10006;">
    <div class="asm-modal" role="dialog" aria-modal="true" aria-labelledby="personalLoanTitle" tabindex="-1"
        style="max-width: 1616px;">
        <!-- HEADER -->
        <div class="asm-modal-header">
            <h2 class="asm-modal-title" id="personalLoanTitle">Detail Personal Loan</h2>
            <button class="asm-modal-close" id="closePersonalLoanDownlineModal" type="button" aria-label="Tutup dialog"
                title="Tutup">
                <span aria-hidden="true">√ó</span>
            </button>
        </div>

        <!-- BODY -->
        <div class="asm-modal-body">
            <!-- FILTER BAR -->
            <div class="asm-filter-bar">
                <!-- Search -->
                <div class="asm-search">
                    <span class="asm-search-icon" aria-hidden="true">üîç</span>
                    <input type="search" class="asm-search-input" placeholder="Search" aria-label="Cari" />
                </div>

                <!-- Date range -->
                <button type="button" class="asm-date-btn">
                    <span class="asm-date-icon" aria-hidden="true">üìÖ</span>
                    <span class="asm-date-text">1 Jan, 2025 - 2 Feb, 2025</span>
                </button>
            </div>

            <!-- TABLE CARD -->
            <div class="asm-table-card">
                <table class="asm-table">
                    <thead>
                        <tr>
                            <th rowspan="2" class="text-center" style="width: 32px;">No</th>
                            <th rowspan="2" style="width: 25%;">RSM Name</th>
                            <th rowspan="2" class="text-center">NIK Sales</th>
                            <th rowspan="2" class="text-center">Branch</th>
                            <th rowspan="2" class="text-center">Total DSR Active</th>
                            <th rowspan="2" class="text-center">Total Input</th>
                            <th rowspan="2" class="text-center">Send BCA</th>
                            <!-- Send HC Removed -->

                            <th colspan="5" class="text-center rsm-group">Send</th>

                            <th rowspan="2" class="text-center">Action</th>
                        </tr>
                        <tr>
                            <!-- Sub columns for Send -->
                            <th class="text-center rsm-group-col">
                                Inprocess</th>
                            <th class="text-center rsm-group-col">
                                Duplicate</th>
                            <th class="text-center rsm-group-col">RTS
                            </th>
                            <th class="text-center rsm-group-col">
                                Cancel</th>
                            <th class="text-center rsm-group-col">
                                Reject</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="text-center">1</td>
                            <td>Ramaldo Oktama</td>
                            <td class="text-center">K1104148</td>
                            <td class="text-center">Bandung</td>
                            <td class="text-center">3</td>
                            <td class="text-center">1</td>
                            <td class="text-center">0</td>
                            <!-- Send HC Removed -->

                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>

                            <td class="text-center">
                                <button class="asm-action-btn btn-view-personal-loan-detail" type="button">üëÅ</button>
                            </td>
                        </tr>

                        <tr>
                            <td class="text-center">2</td>
                            <td>Asep Syaefudin</td>
                            <td class="text-center">K1200215</td>
                            <td class="text-center">Jakarta</td>
                            <td class="text-center">1</td>
                            <td class="text-center">0</td>
                            <td class="text-center">0</td>
                            <!-- Send HC Removed -->

                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>
                            <td class="text-center rsm-group-col">0</td>

                            <td class="text-center">
                                <button class="asm-action-btn btn-view-personal-loan-detail" type="button">üëÅ</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- FOOTER / PAGINATION -->
            <div class="asm-modal-footer">
                <div class="asm-footer-info">Showing 1 to 2 of 2</div>

                <div class="asm-footer-pages">
                    <button type="button" class="asm-page-arrow">‚Äπ</button>
                    <button type="button" class="asm-page-current">1</button>
                    <button type="button" class="asm-page-arrow">‚Ä∫</button>
                </div>

                <div class="asm-footer-show">
                    <span>Show</span>
                    <button type="button" class="asm-show-dropdown">
                        <span>10</span>
                        <span class="asm-show-caret">‚ñæ</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ========================================= -->
<!-- Personal Loan Detail Modal (Clone of Smart Cash Detail) -->
<!-- ========================================= -->
<div class="asm-modal-backdrop" id="personalLoanDetailModal" aria-hidden="true" style="z-index: 10008;">
    <div class="asm-modal" role="dialog" aria-modal="true" tabindex="-1" style="max-width: 1616px;">
        <!-- HEADER -->
        <div class="asm-modal-header">
            <h2 class="asm-modal-title" id="personalLoanDetailTitle">Detail Personal Loan</h2>
            <button class="asm-modal-close" id="closePersonalLoanDetailModal" type="button" aria-label="Close">
                <span aria-hidden="true">√ó</span>
            </button>
        </div>

        <!-- BODY -->
        <div class="asm-modal-body">
            <!-- Tabs (Segmented Toggle) -->
            <div style="padding: 24px 32px 0;">
                <div class="segmented" role="tablist" aria-label="Personal Loan Status">
                    <div class="segmented-inner">
                        <button type="button" role="tab" aria-selected="true" class="seg-item active"
                            style="height: 42px; white-space: nowrap;" data-tab="send-bca">
                            <span class="label">Send BCA</span>
                        </button>
                        <!-- Send HC Removed -->
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="inprocess">
                            <span class="label">Inprocess</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="duplicate">
                            <span class="label">Duplicate</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="rts">
                            <span class="label">RTS</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="cancel">
                            <span class="label">Cancel</span>
                        </button>
                        <button type="button" role="tab" aria-selected="false" class="seg-item"
                            style="height: 42px; white-space: nowrap;" data-tab="reject">
                            <span class="label">Reject</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- TAB PANES (pl-tab-*) -->

            <!-- 1. Send BCA -->
            <div id="pl-tab-send-bca" class="cc-reg-tab-pane active">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <button type="button" class="asm-btn asm-btn-secondary"
                        onclick="closePersonalLoanDetailModalFn()">Close</button>
                    <button type="button" class="asm-btn asm-btn-primary">Save Changes</button>
                </div>
            </div>

            <!-- 2. Inprocess -->
            <div id="pl-tab-inprocess" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <button type="button" class="asm-btn asm-btn-secondary"
                        onclick="closePersonalLoanDetailModalFn()">Close</button>
                    <button type="button" class="asm-btn asm-btn-primary">Save Changes</button>
                </div>
            </div>

            <!-- 3. Duplicate -->
            <div id="pl-tab-duplicate" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <button type="button" class="asm-btn asm-btn-secondary"
                        onclick="closePersonalLoanDetailModalFn()">Close</button>
                    <button type="button" class="asm-btn asm-btn-primary">Save Changes</button>
                </div>
            </div>

            <!-- 4. RTS -->
            <div id="pl-tab-rts" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <button type="button" class="asm-btn asm-btn-secondary"
                        onclick="closePersonalLoanDetailModalFn()">Close</button>
                    <button type="button" class="asm-btn asm-btn-primary">Save Changes</button>
                </div>
            </div>

            <!-- 5. Cancel -->
            <div id="pl-tab-cancel" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <button type="button" class="asm-btn asm-btn-secondary"
                        onclick="closePersonalLoanDetailModalFn()">Close</button>
                    <button type="button" class="asm-btn asm-btn-primary">Save Changes</button>
                </div>
            </div>

            <!-- 6. Reject -->
            <div id="pl-tab-reject" class="cc-reg-tab-pane">
                <!-- Filter Bar -->
                <div class="asm-filter-bar" style="border-bottom: none; padding-top: 16px;">
                    <div class="asm-search" style="width: 100%;">
                        <span class="asm-search-icon">üîç</span>
                        <input type="search" class="asm-search-input" placeholder="Search">
                    </div>
                </div>
                <!-- Table -->
                <div class="asm-table-card">
                    <table class="asm-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 32px;">No</th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Costume Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Status<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">DSR<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">SPV<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Source Code<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Exhibition Name<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                                <th>
                                    <div style="display: flex; align-items: center; gap: 4px;">Input Date<div
                                            style="width: 24px; height: 24px;"><svg width="24" height="24"
                                                viewBox="0 0 24 24" fill="none">
                                                <path d="M12 17L7 12H17L12 17Z" fill="white" />
                                            </svg></div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Footer -->
                <div class="asm-modal-footer">
                    <button type="button" class="asm-btn asm-btn-secondary"
                        onclick="closePersonalLoanDetailModalFn()">Close</button>
                    <button type="button" class="asm-btn asm-btn-primary">Save Changes</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    (function () {
        if (window.merchantModalInitialized) return;
        window.merchantModalInitialized = true;

        let currentPopover = null;

        // Tutup popover kalau klik di luar
        document.addEventListener('click', function (e) {
            if (currentPopover &&
                !currentPopover.contains(e.target) &&
                !e.target.closest('.btn-merchant-action') &&
                !e.target.closest('.btn-export-trigger') &&
                !e.target.closest('.btn-source-trigger')) {
                currentPopover.remove();
                currentPopover = null;
            }
        });

        // Delegasi tombol aksi (Action & Export separated logic)
        document.body.addEventListener('click', function (e) {
            // 1. Handle Merchant Action (Dots)
            const actionBtn = e.target.closest('.btn-merchant-action');
            if (actionBtn) {
                e.preventDefault();
                e.stopPropagation();
                handlePopover(actionBtn, 'merchantActionTemplate', 4); // 10px gap
                return;
            }

            // 2. Handle Export Data
            const exportBtn = e.target.closest('.btn-export-trigger');
            // Source Filter
            const sourceBtn = e.target.closest('.btn-source-trigger');
            if (sourceBtn) {
                e.preventDefault();
                e.stopPropagation();
                handlePopover(sourceBtn, 'sourceActionTemplate', 0); // 0px gap
                return;
            }
        });

        function handlePopover(btn, templateId, topGap) {
            // close existing
            if (currentPopover) {
                currentPopover.remove();
                if (currentPopover._triggerBtn === btn) {
                    currentPopover = null;
                    return;
                }
            }

            const template = document.getElementById(templateId);
            if (!template) return;

            const popover = template.firstElementChild.cloneNode(true);
            popover.style.display = 'flex';
            popover.style.zIndex = '10002';
            popover.style.visibility = 'hidden';

            document.body.appendChild(popover);

            // Special case for Source Dropdown: Match trigger width
            if (templateId === 'sourceActionTemplate') {
                const rect = btn.getBoundingClientRect();
                popover.style.width = rect.width + 'px';
            }

            // USE BROWSER CONSISTENCY HELPER
            if (window.BrowserConsistency && window.BrowserConsistency.positionFloatingElement) {
                const isSource = (templateId === 'sourceActionTemplate');
                // Source = Left Align (bottom-start), Action = Right Align (bottom-end)
                const placement = isSource ? 'bottom-start' : 'bottom-end';

                // Gap adjustment
                const gap = isSource ? 4 : (topGap || 10);

                window.BrowserConsistency.positionFloatingElement(btn, popover, {
                    placement: placement,
                    gap: gap
                });
            } else {
                // FALLBACK (Manual Absolute Positioning)
                const rect = btn.getBoundingClientRect();
                const popoverWidth = popover.offsetWidth;
                const scrollY = window.pageYOffset || window.scrollY;
                const scrollX = window.scrollX || window.pageXOffset;

                popover.style.position = 'absolute';
                const gap = (templateId === 'sourceActionTemplate') ? 4 : (topGap || 10);
                const top = rect.bottom + scrollY + gap;
                let left;

                if (templateId === 'sourceActionTemplate') {
                    left = rect.left + scrollX;
                } else {
                    left = (rect.right + scrollX) - popoverWidth;
                }

                popover.style.top = top + 'px';
                popover.style.left = left + 'px';
            }

            popover.style.visibility = 'visible';

            currentPopover = popover;
            currentPopover._triggerBtn = btn;

            // handler khusus merchant
            if (templateId === 'merchantActionTemplate') {
                const detailBtn = popover.querySelector('[data-action="detail"]');
                if (detailBtn) {
                    detailBtn.addEventListener('click', function () {
                        const tr = btn.closest('tr');
                        const name = tr ? tr.querySelector('.rsm-name-cell')?.textContent.trim() : 'Unknown';
                        openMerchantModal(name);
                        currentPopover.remove();
                        currentPopover = null;
                    });
                }

                const downlineBtn = popover.querySelector('[data-action="downline"]');
                if (downlineBtn) {
                    downlineBtn.addEventListener('click', function () {
                        const tr = btn.closest('tr');
                        const name = tr ? tr.querySelector('.rsm-name-cell')?.textContent.trim() : 'Unknown';
                        // Use the existing global function openDownlineModal if defined, or define logic here
                        if (typeof window.openDownlineModal === 'function') {
                            window.openDownlineModal(name);
                        } else {
                            // Fallback or emit event
                            console.warn('openDownlineModal function not found');
                        }
                        currentPopover.remove();
                        currentPopover = null;
                    });
                }
            } else if (templateId === 'sourceActionTemplate') {
                // Handler for Source Actions
                const items = popover.querySelectorAll('.merchant-action-item');
                items.forEach(item => {
                    item.addEventListener('click', function () {
                        // Update label
                        const labelSpan = btn.textContent.trim();
                        // actually btn is the toggle button, maybe we want to update the text.
                        // The button text is "All product" initially.

                        btn.textContent = this.textContent.trim();

                        // Close
                        currentPopover.remove();
                        currentPopover = null;
                    });
                });
            }
        }





        // --- Modal utama (merchantDetailModal) ---
        const modalBackdrop = document.getElementById('merchantDetailModal');
        const modalTitle = document.getElementById('merchantDetailTitle');
        const modalClose = modalBackdrop.querySelector('.merchant-modal-close');
        const tabBtns = modalBackdrop.querySelectorAll('.merchant-tab-btn');
        const tabContents = modalBackdrop.querySelectorAll('.merchant-tab-content');

        window.openMerchantModal = function (name) {
            modalTitle.textContent = name;
            modalBackdrop.classList.add('is-open');
            modalBackdrop.setAttribute('aria-hidden', 'false');
        };

        modalClose.addEventListener('click', function () {
            modalBackdrop.classList.remove('is-open');
            modalBackdrop.setAttribute('aria-hidden', 'true');
        });

        modalBackdrop.addEventListener('click', function (e) {
            if (e.target === modalBackdrop) {
                modalBackdrop.classList.remove('is-open');
                modalBackdrop.setAttribute('aria-hidden', 'true');
            }
        });

        tabBtns.forEach(btn => {
            btn.addEventListener('click', function () {
                tabBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');

                const target = btn.dataset.tab;
                tabContents.forEach(c => c.classList.remove('active'));
                const targetContent = modalBackdrop.querySelector('#tab-' + target);
                if (targetContent) targetContent.classList.add('active');
            });
        });

        // --- Modal detail EDC Credit ---
        const detailTriggers = document.querySelectorAll('.detail-modal-trigger');
        const detailModal = document.getElementById('edcCreditModal');
        const detailModalTitle = detailModal ? detailModal.querySelector('.merchant-modal-title') : null;
        const detailClose = document.getElementById('closeEdcCreditModal');

        if (detailModal && detailClose) {
            detailTriggers.forEach(trigger => {
                trigger.addEventListener('click', function () {
                    const title = this.getAttribute('data-title');
                    if (detailModalTitle && title) {
                        detailModalTitle.textContent = title;
                    }
                    detailModal.classList.add('is-open');
                    detailModal.setAttribute('aria-hidden', 'false');
                });
            });

            detailClose.addEventListener('click', function () {
                detailModal.classList.remove('is-open');
                detailModal.setAttribute('aria-hidden', 'true');
            });

            detailModal.addEventListener('click', function (e) {
                if (e.target === detailModal) {
                    detailModal.classList.remove('is-open');
                    detailModal.setAttribute('aria-hidden', 'true');
                }
            });
        }

        // --- Modal Downline ---
        const downlineModal = document.getElementById('downlineModal');
        const downlineModalTitle = document.getElementById('downlineModalTitle'); // Optional if dynamic
        const closeDownlineModal = document.getElementById('closeDownlineModal');

        window.openDownlineModal = function (name) {
            if (downlineModal) {
                if (downlineModalTitle) downlineModalTitle.textContent = name;
                downlineModal.classList.add('is-open');
                downlineModal.setAttribute('aria-hidden', 'false');
            }
        };

        if (downlineModal && closeDownlineModal) {
            closeDownlineModal.addEventListener('click', function () {
                downlineModal.classList.remove('is-open');
                downlineModal.setAttribute('aria-hidden', 'true');
            });

            downlineModal.addEventListener('click', function (e) {
                if (e.target === downlineModal) {
                    downlineModal.classList.remove('is-open');
                    downlineModal.setAttribute('aria-hidden', 'true');
                }
            });
        }


        // --- Modal Downline Detail (New separate modal Controller) ---
        (function () {
            const modalBackdrop = document.getElementById('merchantDetailModalDownline');
            if (!modalBackdrop) return;
            const modalTitle = document.getElementById('merchantDetailTitleDownline');
            const modalClose = modalBackdrop.querySelector('.merchant-modal-close');
            const tabBtns = modalBackdrop.querySelectorAll('.merchant-tab-btn');
            const tabContents = modalBackdrop.querySelectorAll('.merchant-tab-content');

            window.openMerchantDetailDownlineModal = function (name) {
                if (modalTitle) modalTitle.textContent = name;
                modalBackdrop.classList.add('is-open');
                modalBackdrop.setAttribute('aria-hidden', 'false');
            };

            if (modalClose) {
                modalClose.addEventListener('click', function () {
                    modalBackdrop.classList.remove('is-open');
                    modalBackdrop.setAttribute('aria-hidden', 'true');
                });
            }

            modalBackdrop.addEventListener('click', function (e) {
                if (e.target === modalBackdrop) {
                    modalBackdrop.classList.remove('is-open');
                    modalBackdrop.setAttribute('aria-hidden', 'true');
                }
            });

            tabBtns.forEach(btn => {
                btn.addEventListener('click', function () {
                    tabBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');

                    const target = btn.dataset.tab; // e.g., 'new-downline'
                    tabContents.forEach(c => c.classList.remove('active'));
                    const targetContent = modalBackdrop.querySelector('#tab-' + target);
                    if (targetContent) targetContent.classList.add('active');
                });
            });

            // --- Modal Downline Detail Table (Sub-detail) ---
            const subDetailModal = document.getElementById('downlineTableModal');
            const subDetailTitle = document.getElementById('downlineTableTitle');
            const subDetailClose = document.getElementById('closeDownlineTableModal');

            if (subDetailModal && subDetailClose) {
                // Delegated event listener for dynamically added content if needed, 
                // but since modal is in DOM, we can attach to body or the modal container if we prefer.
                // However, the items are in `merchantDetailModalDownline`.
                // Let's attach to the body document for simplicity as we did with others.
                document.body.addEventListener('click', function (e) {
                    const trigger = e.target.closest('.downline-sub-detail-trigger');
                    if (trigger) {
                        const title = trigger.getAttribute('data-title');
                        if (subDetailTitle && title) {
                            subDetailTitle.textContent = title;
                        }
                        subDetailModal.classList.add('is-open');
                        subDetailModal.setAttribute('aria-hidden', 'false');
                    }
                });

                subDetailClose.addEventListener('click', function () {
                    subDetailModal.classList.remove('is-open');
                    subDetailModal.setAttribute('aria-hidden', 'true');
                });

                subDetailModal.addEventListener('click', function (e) {
                    if (e.target === subDetailModal) {
                        subDetailModal.classList.remove('is-open');
                        subDetailModal.setAttribute('aria-hidden', 'true');
                    }
                });
            }

        })();

        // --- Handler: View Detail from Downline (Eye Icon) ---
        document.body.addEventListener('click', function (e) {
            const btn = e.target.closest('.btn-view-asm-detail');
            if (btn) {
                e.preventDefault();
                e.stopPropagation();

                // Ambil info nama dari kolom ke-2 (index 1)
                const tr = btn.closest('tr');
                const name = tr ? tr.querySelectorAll('td')[1].innerText.trim() : 'Unknown';

                // Buka Modal Merchant Detail Khusus Downline
                if (typeof window.openMerchantDetailDownlineModal === 'function') {
                    window.openMerchantDetailDownlineModal(name);
                }
            }
        });
        // --- Handler: View CC Reg Detail (New) ---
        // Expose function globally
        window.openCcRegDownlineModal = function (name) {
            const modal = document.getElementById('ccRegDownlineModal');
            const title = document.getElementById('ccRegTitle');
            if (modal) {
                if (title && name) title.textContent = "Detail CC Reg: " + name;
                modal.classList.add('is-open');
                modal.setAttribute('aria-hidden', 'false');
            }
        };

        const ccRegModal = document.getElementById('ccRegDownlineModal');
        const ccRegClose = document.getElementById('closeCcRegDownlineModal');

        if (ccRegModal) {
            const closeModal = () => {
                ccRegModal.classList.remove('is-open');
                ccRegModal.setAttribute('aria-hidden', 'true');
            };

            if (ccRegClose) {
                ccRegClose.addEventListener('click', closeModal);
            }

            ccRegModal.addEventListener('click', (e) => {
                if (e.target === ccRegModal) closeModal();
            });
        }

        // --- Handler: CC Reg Detail Sub-Modal (The new one) ---
        window.openCcRegDetailModal = function (name) {
            const modal = document.getElementById('ccRegDetailModal');
            const title = document.getElementById('ccRegDetailTitle');
            if (modal) {
                if (title && name) title.textContent = name;
                modal.classList.add('is-open');
                modal.setAttribute('aria-hidden', 'false');
            }
        };

        const ccRegDetailModal = document.getElementById('ccRegDetailModal');
        const ccRegDetailClose = document.getElementById('closeCcRegDetailModal');

        if (ccRegDetailModal) {
            const closeDetail = () => {
                ccRegDetailModal.classList.remove('is-open');
                ccRegDetailModal.setAttribute('aria-hidden', 'true');
            };
            if (ccRegDetailClose) ccRegDetailClose.addEventListener('click', closeDetail);
            ccRegDetailModal.addEventListener('click', (e) => {
                if (e.target === ccRegDetailModal) closeDetail();
            });

            // Tab switching logic (Segmented)
            const segContainer = ccRegDetailModal.querySelector('.segmented-inner');
            if (segContainer) {
                segContainer.addEventListener('click', (e) => {
                    const btn = e.target.closest('.seg-item');
                    if (btn) {
                        const allBtns = segContainer.querySelectorAll('.seg-item');
                        allBtns.forEach(b => {
                            b.classList.remove('active');
                            b.setAttribute('aria-selected', 'false');
                        });
                        btn.classList.add('active');
                        btn.setAttribute('aria-selected', 'true');

                        // Switch Tab Content
                        const target = btn.dataset.tab;
                        if (target) {
                            const panes = ccRegDetailModal.querySelectorAll('.cc-reg-tab-pane');
                            panes.forEach(p => p.classList.remove('active'));
                            const targetPane = ccRegDetailModal.querySelector('#tab-' + target);
                            if (targetPane) targetPane.classList.add('active');
                        }
                    }
                });
            }
        }

        // Delegated listener for the eye button inside the CC Reg Downline modal
        document.body.addEventListener('click', function (e) {
            const btn = e.target.closest('.btn-view-cc-reg-detail');
            if (btn) {
                e.preventDefault();
                e.stopPropagation();
                // Get name from column 2 (index 1) of the clicked row
                const tr = btn.closest('tr');
                const name = tr ? tr.querySelectorAll('td')[1].textContent.trim() : 'Unknown';
                openCcRegDetailModal(name);
            }
        });

        /* =========================================
           CC MS MODAL LOGIC (New)
           ========================================= */

        // 1. Open CC MS Downline Modal
        const ccMsDownlineModal = document.getElementById('ccMsDownlineModal');
        const ccMsTitle = document.getElementById('ccMsTitle');
        const closeCcMsDownlineModal = document.getElementById('closeCcMsDownlineModal');

        window.openCcMsDownlineModal = function (name) {
            console.log('Opening CC MS Downline for:', name);
            if (ccMsDownlineModal) {
                // if (ccMsTitle) ccMsTitle.textContent = "Detail CC MS for " + name; // Optional
                ccMsDownlineModal.classList.add('is-open');
                ccMsDownlineModal.setAttribute('aria-hidden', 'false');
            }
        };

        if (ccMsDownlineModal && closeCcMsDownlineModal) {
            closeCcMsDownlineModal.addEventListener('click', function () {
                ccMsDownlineModal.classList.remove('is-open');
                ccMsDownlineModal.setAttribute('aria-hidden', 'true');
            });
            ccMsDownlineModal.addEventListener('click', function (e) {
                if (e.target === ccMsDownlineModal) {
                    ccMsDownlineModal.classList.remove('is-open');
                    ccMsDownlineModal.setAttribute('aria-hidden', 'true');
                }
            });
        }

        // 2. Open CC MS Detail Modal
        const ccMsDetailModal = document.getElementById('ccMsDetailModal');
        const ccMsDetailTitle = document.getElementById('ccMsDetailTitle');
        const closeCcMsDetailModal = document.getElementById('closeCcMsDetailModal');

        window.openCcMsDetailModal = function (name) {
            if (ccMsDetailModal) {
                if (ccMsDetailTitle && name) ccMsDetailTitle.textContent = name;
                ccMsDetailModal.classList.add('is-open');
                ccMsDetailModal.setAttribute('aria-hidden', 'false');
            }
        };

        if (ccMsDetailModal) {
            const closeMsDetail = () => {
                ccMsDetailModal.classList.remove('is-open');
                ccMsDetailModal.setAttribute('aria-hidden', 'true');
            };
            // Assign global close function for inline onClick usage
            window.closeCcMsDetailModalFn = closeMsDetail;

            if (closeCcMsDetailModal) closeCcMsDetailModal.addEventListener('click', closeMsDetail);
            ccMsDetailModal.addEventListener('click', (e) => {
                if (e.target === ccMsDetailModal) closeMsDetail();
            });

            // MS Tab switching logic
            const segContainerMs = ccMsDetailModal.querySelector('.segmented-inner');
            if (segContainerMs) {
                segContainerMs.addEventListener('click', (e) => {
                    const btn = e.target.closest('.seg-item');
                    if (btn) {
                        const allBtns = segContainerMs.querySelectorAll('.seg-item');
                        allBtns.forEach(b => {
                            b.classList.remove('active');
                            b.setAttribute('aria-selected', 'false');
                        });
                        btn.classList.add('active');
                        btn.setAttribute('aria-selected', 'true');

                        // Switch Tab Content
                        const target = btn.dataset.tab;
                        if (target) {
                            const panes = ccMsDetailModal.querySelectorAll('.cc-reg-tab-pane'); // Reuse class for styling
                            panes.forEach(p => p.classList.remove('active'));
                            const targetPane = ccMsDetailModal.querySelector('#ms-tab-' + target);
                            if (targetPane) targetPane.classList.add('active');
                        }
                    }
                });
            }
        }

        // Delegated listener for the eye button inside the CC MS Downline modal
        document.body.addEventListener('click', function (e) {
            const btn = e.target.closest('.btn-view-cc-ms-detail');
            if (btn) {
                e.preventDefault();
                e.stopPropagation();
                // Get name from column 2 (index 1) of the clicked row
                const tr = btn.closest('tr');
                const name = tr ? tr.querySelectorAll('td')[1].textContent.trim() : 'Unknown';
                openCcMsDetailModal(name);
            }
        });

        /* =========================================
           CORPORATE MODAL LOGIC (New)
           ========================================= */

        // 1. Open Corporate Downline Modal
        const corporateDownlineModal = document.getElementById('corporateDownlineModal');
        const corporateTitle = document.getElementById('corporateTitle');
        const closeCorporateDownlineModal = document.getElementById('closeCorporateDownlineModal');

        window.openCorporateDownlineModal = function (name) {
            console.log('Opening Corporate Downline for:', name);
            if (corporateDownlineModal) {
                // if (corporateTitle) corporateTitle.textContent = "Detail Corporate for " + name; // Optional
                corporateDownlineModal.classList.add('is-open');
                corporateDownlineModal.setAttribute('aria-hidden', 'false');
            }
        };

        if (corporateDownlineModal && closeCorporateDownlineModal) {
            closeCorporateDownlineModal.addEventListener('click', function () {
                corporateDownlineModal.classList.remove('is-open');
                corporateDownlineModal.setAttribute('aria-hidden', 'true');
            });
            corporateDownlineModal.addEventListener('click', function (e) {
                if (e.target === corporateDownlineModal) {
                    corporateDownlineModal.classList.remove('is-open');
                    corporateDownlineModal.setAttribute('aria-hidden', 'true');
                }
            });
        }

        // 2. Open Corporate Detail Modal
        const corporateDetailModal = document.getElementById('corporateDetailModal');
        const corporateDetailTitle = document.getElementById('corporateDetailTitle');
        const closeCorporateDetailModal = document.getElementById('closeCorporateDetailModal');

        window.openCorporateDetailModal = function (name) {
            if (corporateDetailModal) {
                if (corporateDetailTitle && name) corporateDetailTitle.textContent = name;
                corporateDetailModal.classList.add('is-open');
                corporateDetailModal.setAttribute('aria-hidden', 'false');
            }
        };

        if (corporateDetailModal) {
            const closeCorpDetail = () => {
                corporateDetailModal.classList.remove('is-open');
                corporateDetailModal.setAttribute('aria-hidden', 'true');
            };
            // Assign global close function for inline onClick usage
            window.closeCorporateDetailModalFn = closeCorpDetail;

            if (closeCorporateDetailModal) closeCorporateDetailModal.addEventListener('click', closeCorpDetail);
            corporateDetailModal.addEventListener('click', (e) => {
                if (e.target === corporateDetailModal) closeCorpDetail();
            });

            // Corporate Tab switching logic
            const segContainerCorp = corporateDetailModal.querySelector('.segmented-inner');
            if (segContainerCorp) {
                segContainerCorp.addEventListener('click', (e) => {
                    const btn = e.target.closest('.seg-item');
                    if (btn) {
                        const allBtns = segContainerCorp.querySelectorAll('.seg-item');
                        allBtns.forEach(b => {
                            b.classList.remove('active');
                            b.setAttribute('aria-selected', 'false');
                        });
                        btn.classList.add('active');
                        btn.setAttribute('aria-selected', 'true');

                        // Switch Tab Content
                        const target = btn.dataset.tab;
                        if (target) {
                            const panes = corporateDetailModal.querySelectorAll('.cc-reg-tab-pane'); // Reuse class for styling
                            panes.forEach(p => p.classList.remove('active'));
                            const targetPane = corporateDetailModal.querySelector('#corp-tab-' + target);
                            if (targetPane) targetPane.classList.add('active');
                        }
                    }
                });
            }
        }

        // Delegated listener for the eye button inside the Corporate Downline modal
        document.body.addEventListener('click', function (e) {
            const btn = e.target.closest('.btn-view-corporate-detail');
            if (btn) {
                e.preventDefault();
                e.stopPropagation();
                // Get name from column 2 (index 1) of the clicked row
                const tr = btn.closest('tr');
                const name = tr ? tr.querySelectorAll('td')[1].textContent.trim() : 'Unknown';
                openCorporateDetailModal(name);
            }
        });

        /* =========================================
           SMART CASH MODAL LOGIC (New)
           ========================================= */

        // 1. Open Smart Cash Downline Modal
        const smartCashDownlineModal = document.getElementById('smartCashDownlineModal');
        // const smartCashTitle = document.getElementById('smartCashTitle');
        const closeSmartCashDownlineModal = document.getElementById('closeSmartCashDownlineModal');

        window.openSmartCashDownlineModal = function (name) {
            console.log('Opening Smart Cash Downline for:', name);
            if (smartCashDownlineModal) {
                smartCashDownlineModal.classList.add('is-open');
                smartCashDownlineModal.setAttribute('aria-hidden', 'false');
            }
        };

        if (smartCashDownlineModal && closeSmartCashDownlineModal) {
            closeSmartCashDownlineModal.addEventListener('click', function () {
                smartCashDownlineModal.classList.remove('is-open');
                smartCashDownlineModal.setAttribute('aria-hidden', 'true');
            });
            smartCashDownlineModal.addEventListener('click', function (e) {
                if (e.target === smartCashDownlineModal) {
                    smartCashDownlineModal.classList.remove('is-open');
                    smartCashDownlineModal.setAttribute('aria-hidden', 'true');
                }
            });
        }

        // 2. Open Smart Cash Detail Modal
        const smartCashDetailModal = document.getElementById('smartCashDetailModal');
        const smartCashDetailTitle = document.getElementById('smartCashDetailTitle');
        const closeSmartCashDetailModal = document.getElementById('closeSmartCashDetailModal');

        window.openSmartCashDetailModal = function (name) {
            if (smartCashDetailModal) {
                if (smartCashDetailTitle && name) smartCashDetailTitle.textContent = name;
                smartCashDetailModal.classList.add('is-open');
                smartCashDetailModal.setAttribute('aria-hidden', 'false');
            }
        };

        if (smartCashDetailModal) {
            const closeScDetail = () => {
                smartCashDetailModal.classList.remove('is-open');
                smartCashDetailModal.setAttribute('aria-hidden', 'true');
            };
            // Assign global close function for inline onClick usage
            window.closeSmartCashDetailModalFn = closeScDetail;

            if (closeSmartCashDetailModal) closeSmartCashDetailModal.addEventListener('click', closeScDetail);
            smartCashDetailModal.addEventListener('click', (e) => {
                if (e.target === smartCashDetailModal) closeScDetail();
            });

            // Smart Cash Tab switching logic
            const segContainerSc = smartCashDetailModal.querySelector('.segmented-inner');
            if (segContainerSc) {
                segContainerSc.addEventListener('click', (e) => {
                    const btn = e.target.closest('.seg-item');
                    if (btn) {
                        const allBtns = segContainerSc.querySelectorAll('.seg-item');
                        allBtns.forEach(b => {
                            b.classList.remove('active');
                            b.setAttribute('aria-selected', 'false');
                        });
                        btn.classList.add('active');
                        btn.setAttribute('aria-selected', 'true');

                        // Switch Tab Content
                        const target = btn.dataset.tab;
                        if (target) {
                            const panes = smartCashDetailModal.querySelectorAll('.cc-reg-tab-pane'); // Reuse class
                            panes.forEach(p => p.classList.remove('active'));
                            const targetPane = smartCashDetailModal.querySelector('#sc-tab-' + target);
                            if (targetPane) targetPane.classList.add('active');
                        }
                    }
                });
            }
        }

        // Delegated listener for the eye button inside the Smart Cash Downline modal
        document.body.addEventListener('click', function (e) {
            const btn = e.target.closest('.btn-view-smart-cash-detail');
            if (btn) {
                e.preventDefault();
                e.stopPropagation();
                const tr = btn.closest('tr');
                const name = tr ? tr.querySelectorAll('td')[1].textContent.trim() : 'Unknown';
                openSmartCashDetailModal(name);
            }
        });

        /* =========================================
           PERSONAL LOAN MODAL LOGIC (New)
           ========================================= */

        // 1. Open Personal Loan Downline Modal
        const personalLoanDownlineModal = document.getElementById('personalLoanDownlineModal');
        // const personalLoanTitle = document.getElementById('personalLoanTitle');
        const closePersonalLoanDownlineModal = document.getElementById('closePersonalLoanDownlineModal');

        window.openPersonalLoanDownlineModal = function (name) {
            console.log('Opening Personal Loan Downline for:', name);
            if (personalLoanDownlineModal) {
                personalLoanDownlineModal.classList.add('is-open');
                personalLoanDownlineModal.setAttribute('aria-hidden', 'false');
            }
        };

        if (personalLoanDownlineModal && closePersonalLoanDownlineModal) {
            closePersonalLoanDownlineModal.addEventListener('click', function () {
                personalLoanDownlineModal.classList.remove('is-open');
                personalLoanDownlineModal.setAttribute('aria-hidden', 'true');
            });
            personalLoanDownlineModal.addEventListener('click', function (e) {
                if (e.target === personalLoanDownlineModal) {
                    personalLoanDownlineModal.classList.remove('is-open');
                    personalLoanDownlineModal.setAttribute('aria-hidden', 'true');
                }
            });
        }

        // 2. Open Personal Loan Detail Modal
        const personalLoanDetailModal = document.getElementById('personalLoanDetailModal');
        const personalLoanDetailTitle = document.getElementById('personalLoanDetailTitle');
        const closePersonalLoanDetailModal = document.getElementById('closePersonalLoanDetailModal');

        window.openPersonalLoanDetailModal = function (name) {
            if (personalLoanDetailModal) {
                if (personalLoanDetailTitle && name) personalLoanDetailTitle.textContent = name;
                personalLoanDetailModal.classList.add('is-open');
                personalLoanDetailModal.setAttribute('aria-hidden', 'false');
            }
        };

        if (personalLoanDetailModal) {
            const closePlDetail = () => {
                personalLoanDetailModal.classList.remove('is-open');
                personalLoanDetailModal.setAttribute('aria-hidden', 'true');
            };
            // Assign global close function for inline onClick usage
            window.closePersonalLoanDetailModalFn = closePlDetail;

            if (closePersonalLoanDetailModal) closePersonalLoanDetailModal.addEventListener('click', closePlDetail);
            personalLoanDetailModal.addEventListener('click', (e) => {
                if (e.target === personalLoanDetailModal) closePlDetail();
            });

            // Personal Loan Tab switching logic
            const segContainerPl = personalLoanDetailModal.querySelector('.segmented-inner');
            if (segContainerPl) {
                segContainerPl.addEventListener('click', (e) => {
                    const btn = e.target.closest('.seg-item');
                    if (btn) {
                        const allBtns = segContainerPl.querySelectorAll('.seg-item');
                        allBtns.forEach(b => {
                            b.classList.remove('active');
                            b.setAttribute('aria-selected', 'false');
                        });
                        btn.classList.add('active');
                        btn.setAttribute('aria-selected', 'true');

                        // Switch Tab Content
                        const target = btn.dataset.tab;
                        if (target) {
                            const panes = personalLoanDetailModal.querySelectorAll('.cc-reg-tab-pane'); // Reuse class
                            panes.forEach(p => p.classList.remove('active'));
                            const targetPane = personalLoanDetailModal.querySelector('#pl-tab-' + target);
                            if (targetPane) targetPane.classList.add('active');
                        }
                    }
                });
            }
        }

        // Delegated listener for the eye button inside the Personal Loan Downline modal
        document.body.addEventListener('click', function (e) {
            const btn = e.target.closest('.btn-view-personal-loan-detail');
            if (btn) {
                e.preventDefault();
                e.stopPropagation();
                const tr = btn.closest('tr');
                const name = tr ? tr.querySelectorAll('td')[1].textContent.trim() : 'Unknown';
                openPersonalLoanDetailModal(name);
            }
        });
    })();
</script>