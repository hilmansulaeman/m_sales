<!-- partial: assets/partials/data_decision_pemol_modal.html -->
<div class="asm-modal-backdrop" id="asmModal" aria-hidden="true">
    <div class="asm-modal" role="dialog" aria-modal="true" aria-labelledby="asmTitle" tabindex="-1">
        <!-- HEADER -->
        <div class="asm-modal-header">
            <h2 class="asm-modal-title" id="asmTitle">Kiwamudin</h2>

            <button class="asm-modal-close" type="button" aria-label="Tutup dialog" title="Tutup">
                <span aria-hidden="true">√ó</span>
            </button>
        </div>

        <!-- BODY -->
        <div class="asm-modal-body">
            <!-- FILTER BAR -->
            <div class="asm-filter-bar">
                <!-- Search -->
                <div class="asm-search">
                    <span class="asm-search-icon" aria-hidden="true">üîç</span>
                    <input type="search" class="asm-search-input" placeholder="Search" aria-label="Cari" />
                </div>

                <!-- Date range -->

                <!-- Date component container -->
                <div class="rsm-date-component-container"></div>
            </div>

            <!-- TABLE CARD -->
            <div class="asm-table-card">
                <table class="asm-table">
                    <thead>
                        <tr>
                            <th rowspan="2" class="text-center">No</th>
                            <th rowspan="2">ASM Name</th>
                            <th rowspan="2" class="text-center">NIK Sales</th>

                            <th colspan="2" class="text-center">Open Account</th>

                            <th rowspan="2" class="text-center">NE</th>
                            <th rowspan="2" class="text-center">SK</th>
                            <th rowspan="2" class="text-center">KTB</th>
                            <th rowspan="2" class="text-center">Total</th>

                            <th rowspan="2" class="text-center">Action</th>
                        </tr>
                        <tr>
                            <th class="text-center">My BCA</th>
                            <th class="text-center">Mobile BCA</th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr>
                            <td class="text-center">1</td>
                            <td>Albert Lambert</td>
                            <td class="text-center">K1101285</td>

                            <td class="text-center">145</td>
                            <td class="text-center">974</td>

                            <td class="text-center">958</td>
                            <td class="text-center">13</td>
                            <td class="text-center">46</td>
                            <td class="text-center">2136</td>

                            <td class="text-center">
                                <button class="asm-action-btn" type="button">üëÅ</button>
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">2</td>
                            <td>Angela Suriawarsita</td>
                            <td class="text-center">K1131701</td>

                            <td class="text-center">144</td>
                            <td class="text-center">75</td>

                            <td class="text-center">6</td>
                            <td class="text-center">0</td>
                            <td class="text-center">0</td>
                            <td class="text-center">225</td>

                            <td class="text-center">
                                <button class="asm-action-btn" type="button">üëÅ</button>
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">3</td>
                            <td>Sifa Fauziah</td>
                            <td class="text-center">K1140414</td>

                            <td class="text-center">0</td>
                            <td class="text-center">0</td>

                            <td class="text-center">0</td>
                            <td class="text-center">0</td>
                            <td class="text-center">0</td>
                            <td class="text-center">0</td>

                            <td class="text-center">
                                <button class="asm-action-btn" type="button">üëÅ</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- FOOTER / PAGINATION -->
            <!-- FOOTER / PAGINATION -->
            <div class="rsm-pagination-component-container"></div>
        </div>
    </div>
</div>

<script>
    // script khusus untuk close modal (Escape, klik backdrop, klik tombol X)
    (function () {
        var backdrop = document.getElementById('asmModal');
        if (!backdrop) return;

        function closeModal() {
            backdrop.classList.remove('is-open');
            backdrop.setAttribute('aria-hidden', 'true');
        }

        backdrop.addEventListener('click', function (e) {
            if (e.target === backdrop || e.target.classList.contains('asm-modal-close')) {
                closeModal();
            }
        });

        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape' && backdrop.classList.contains('is-open')) {
                closeModal();
            }
        });
    })();
</script>

<script>
    // Load Date Pickers
    fetch('assets/partials/components/date_picker.html')
        .then(response => response.text())
        .then(html => {
            document.querySelectorAll('.rsm-date-component-container').forEach(container => {
                if (container.innerHTML.trim() === '') {
                    container.innerHTML = html;
                    container.querySelectorAll('script').forEach(oldScript => {
                        const newScript = document.createElement('script');
                        newScript.textContent = oldScript.textContent;
                        document.body.appendChild(newScript);
                    });
                }
            });
        });
</script>

<script>
    // Load Pagination
    fetch('assets/partials/components/pagination.html')
        .then(response => response.text())
        .then(html => {
            document.querySelectorAll('.rsm-pagination-component-container').forEach(container => {
                if (container.innerHTML.trim() === '') {
                    container.innerHTML = html;
                }
            });
        });
</script>