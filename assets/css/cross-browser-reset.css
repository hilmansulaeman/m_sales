/* 
   CROSS-BROWSER CONSISTENCY RESET 
   Target: Chrome, Edge, Safari (Desktop/Mobile/WebView)
*/

/* 1. Global Box Sizing & Scroll */
html {
    box-sizing: border-box;
    -webkit-text-size-adjust: 100%;
    /* Prevent iOS text inflation */
    -moz-text-size-adjust: 100%;
    text-size-adjust: 100%;
    /* Fix: iOS 100vh issue */
    height: -webkit-fill-available;
}

*,
*::before,
*::after {
    box-sizing: inherit;
}

body {
    -webkit-font-smoothing: antialiased;
    /* Mac/iOS Font Rendering match */
    -moz-osx-font-smoothing: grayscale;
    min-height: 100vh;
    min-height: -webkit-fill-available;
    /* iOS Safari Fix */
    /* Remove tap highlight color on mobile */
    -webkit-tap-highlight-color: transparent;
}

/* 2. Form Element Normalization (The "Apple" Fix) */
/* Safari/iOS adds default rounded styles and shadows. We kill them here. */
input,
button,
textarea,
select {
    -webkit-appearance: none;
    appearance: none;
    border-radius: 0;
    /* Reset default radius */
    font-family: inherit;
    color: inherit;
    /* Prevent blue color links in phones */
}

/* Re-apply Bootstrap defaults (assuming Bootstrap variables exist, or hardcode defaults) */
.btn {
    border-radius: var(--bs-btn-border-radius, 0.375rem);
}

.form-control {
    border-radius: var(--bs-border-radius, 0.375rem);
    /* Prevent input zoom on iOS by forcing 16px font size if needed, 
       but standardizing height usually helps better */
}

input[type="checkbox"],
input[type="radio"] {
    /* Checkboxes need their appearance back or custom styles */
    -webkit-appearance: auto;
    /* Or use Bootstrap's .form-check-input */
    appearance: auto;
}

/* If using Bootstrap .form-check-input, it overrides appearance: none correctly */

/* 3. Positioning & Layout Safety */
/* Fix: Flexbox Gap Protocol for older Safaris */
.gap-1 {
    gap: 0.25rem;
}

.gap-2 {
    gap: 0.5rem;
}

.gap-3 {
    gap: 1rem;
}

/* (Bootstrap 5 handles this, but if you barely use BS Grid, this ensures safety) */

/* Fix: Sticky elements rendering jitter in Safari */
.sticky-top,
.sticky-bottom {
    position: -webkit-sticky;
    position: sticky;
    transform: translate3d(0, 0, 0);
    /* Promotes to own layer */
    z-index: 1020;
}

/* Fix: Z-index traps. Isolate stacking contexts. */
.position-relative {
    isolation: isolate;
}

/* 4. Table Consistency */
table {
    border-collapse: collapse;
    /* Ensure consistent border rendering */
    border-spacing: 0;
}