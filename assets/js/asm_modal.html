<!-- partial: application/views/partials/asm_modal.php (atau .html) -->
<div class="asm-modal-backdrop" id="asmModal" aria-hidden="true">
  <div class="asm-modal" role="dialog" aria-modal="true" aria-labelledby="asmTitle" tabindex="-1">
    <!-- HEADER -->
    <div class="asm-modal-header">
      <h2 class="asm-modal-title" id="asmTitle">Kiwamudin</h2>

      <button class="asm-modal-close" type="button" aria-label="Tutup dialog" title="Tutup">
        <span aria-hidden="true">√ó</span>
      </button>
    </div>

    <!-- BODY -->
    <div class="asm-modal-body">
      <!-- FILTER BAR -->
      <div class="asm-filter-bar">
        <!-- Search -->
        <div class="rsm-search-component-container"></div>

        <!-- Date range -->
        <button type="button" class="asm-date-btn">
          <span class="asm-date-icon" aria-hidden="true">üìÖ</span>
          <span class="asm-date-text">1 Jan, 2025 - 2 Feb, 2025</span>
        </button>
      </div>

      <!-- TABLE CARD -->
      <div class="asm-table-card">
        <table class="asm-table">
          <thead>
            <tr>
              <th rowspan="2" class="text-center">No</th>
              <th rowspan="2">ASM Name</th>
              <th rowspan="2" class="text-center">NIK Sales</th>
              <th rowspan="2" class="text-center">Branch</th>
              <th colspan="2" class="text-center">Total DSR</th>
              <th colspan="3" class="text-center">Input</th>
              <th rowspan="2" class="text-center">Action</th>
            </tr>
            <tr>
              <th class="text-center">Active</th>
              <th class="text-center">Input</th>
              <th class="text-center">BCA Mobile</th>
              <th class="text-center">My BCA</th>
              <th class="text-center">Total</th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td class="text-center">1</td>
              <td>Albert Lambert</td>
              <td class="text-center">K1101285</td>
              <td class="text-center">Jakarta</td>
              <td class="text-center">145</td>
              <td class="text-center">974</td>
              <td class="text-center">958</td>
              <td class="text-center">13</td>
              <td class="text-center">46</td>
              <td class="text-center">
                <button class="asm-action-btn" type="button">üëÅ</button>
              </td>
            </tr>
            <tr>
              <td class="text-center">2</td>
              <td>Angela Suriawarsita</td>
              <td class="text-center">K1131701</td>
              <td class="text-center">Jakarta</td>
              <td class="text-center">144</td>
              <td class="text-center">75</td>
              <td class="text-center">6</td>
              <td class="text-center">0</td>
              <td class="text-center">0</td>
              <td class="text-center">
                <button class="asm-action-btn" type="button">üëÅ</button>
              </td>
            </tr>
            <tr>
              <td class="text-center">3</td>
              <td>Sifa Fauziah</td>
              <td class="text-center">K1140414</td>
              <td class="text-center">Jakarta</td>
              <td class="text-center">185</td>
              <td class="text-center">0</td>
              <td class="text-center">0</td>
              <td class="text-center">0</td>
              <td class="text-center">0</td>
              <td class="text-center">
                <button class="asm-action-btn" type="button">üëÅ</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- FOOTER / PAGINATION -->
      <div class="asm-modal-footer">
        <div class="asm-footer-info">Showing 1 to 3 of 3</div>

        <div class="asm-footer-pages">
          <button type="button" class="asm-page-arrow">‚Äπ</button>
          <button type="button" class="asm-page-current">1</button>
          <button type="button" class="asm-page-arrow">‚Ä∫</button>
        </div>

        <div class="asm-footer-show">
          <span>Show</span>
          <button type="button" class="asm-show-dropdown">
            <span>10</span>
            <span class="asm-show-caret">‚ñæ</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // script khusus untuk close modal (Escape, klik backdrop, klik tombol X)
  (function () {
    var backdrop = document.getElementById('asmModal');
    if (!backdrop) return;

    function closeModal() {
      backdrop.classList.remove('is-open');
      backdrop.setAttribute('aria-hidden', 'true');
    }

    backdrop.addEventListener('click', function (e) {
      if (e.target === backdrop || e.target.classList.contains('asm-modal-close')) {
        closeModal();
      }
    });

    document.addEventListener('keydown', function (e) {
      if (e.key === 'Escape' && backdrop.classList.contains('is-open')) {
        closeModal();
      }
    });
  })();
</script>
<script>
  // Load Search Component
  fetch('assets/partials/components/search.html')
    .then(response => response.text())
    .then(html => {
      document.querySelectorAll('.rsm-search-component-container').forEach(container => {
        if (container.innerHTML.trim() === '') {
          container.innerHTML = html;
        }
      });
    });
</script>